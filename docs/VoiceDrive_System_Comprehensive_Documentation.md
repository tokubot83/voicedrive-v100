# VoiceDrive ã‚·ã‚¹ãƒ†ãƒ è©³ç´°èª¬æ˜æ›¸

**ä½œæˆæ—¥ï¼š2025å¹´10æœˆ7æ—¥**
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼šv1.0.0**
**ä½œæˆè€…ï¼šVoiceDriveé–‹ç™ºãƒãƒ¼ãƒ **

---

## ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#2-ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#3-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
4. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#4-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
5. [ä¸»è¦æ©Ÿèƒ½](#5-ä¸»è¦æ©Ÿèƒ½)
6. [æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ](#6-æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ )
7. [å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº](#7-å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº)
8. [APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ](#8-apiã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ)
9. [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ](#9-ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ)
10. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#10-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
11. [é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤](#11-é–‹ç™ºãƒ‡ãƒ—ãƒ­ã‚¤)
12. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#12-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
**VoiceDrive v100** - é©æ–°çš„åˆæ„å½¢æˆã‚·ã‚¹ãƒ†ãƒ 

### 1.2 ç›®çš„
åŒ»ç™‚è·å“¡ã®å£°ã‚’é›†ã‚ã€çµ„ç¹”æ”¹å–„ã«ã¤ãªã’ã‚‹çµ±åˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚
X(Twitter)é¢¨ã®ãƒ¢ãƒ€ãƒ³ãªUIã‚’æŒã¤çµ„ç¹”å†…åˆæ„å½¢æˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### 1.3 ä¸»è¦ä¾¡å€¤ææ¡ˆ
- ğŸ‘¥ **è·å“¡ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆå‘ä¸Š**ï¼šå…¨è·å“¡ã®æ„è¦‹ã‚’å¯è¦–åŒ–
- ğŸ’¡ **æ”¹å–„ææ¡ˆã®åŠ¹ç‡åŒ–**ï¼šã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã‚‰å®Ÿè¡Œã¾ã§ä¸€å…ƒç®¡ç†
- ğŸ“Š **ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³çµŒå–¶**ï¼šçµ„ç¹”ã®å£°ã‚’åˆ†æã—æ„æ€æ±ºå®šã‚’æ”¯æ´
- ğŸ”’ **åŒ¿åæ€§ã®ä¿è¨¼**ï¼šå¿ƒç†çš„å®‰å…¨æ€§ã‚’æ‹…ä¿ã—ãŸæŠ•ç¨¿ç’°å¢ƒ
- ğŸ¥ **åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ**ï¼šè·å“¡ã‚«ãƒ«ãƒ†ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹é€£æº

### 1.4 ã‚·ã‚¹ãƒ†ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼
- **ä¸€èˆ¬è·å“¡**ï¼ˆãƒ¬ãƒ™ãƒ«1-4ï¼‰ï¼šæ„è¦‹æŠ•ç¨¿ã€æŠ•ç¥¨ã€é¢è«‡äºˆç´„
- **ç®¡ç†è·**ï¼ˆãƒ¬ãƒ™ãƒ«5-13ï¼‰ï¼šãƒãƒ¼ãƒ ç®¡ç†ã€ææ¡ˆå¯©æŸ»ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- **äººäº‹éƒ¨é–€**ï¼ˆãƒ¬ãƒ™ãƒ«14-15ï¼‰ï¼šåˆ†æã€æ–‡åŒ–é–‹ç™ºã€é€šçŸ¥ç®¡ç†
- **çµŒå–¶å±¤**ï¼ˆãƒ¬ãƒ™ãƒ«16-18ï¼‰ï¼šæˆ¦ç•¥ç«‹æ¡ˆã€ç†äº‹ä¼šè³‡æ–™ã€æœ€çµ‚æ‰¿èª

---

## 2. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 2.1 å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VoiceDrive System                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚              â”‚         â”‚              â”‚                  â”‚
â”‚  â”‚   Frontend   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   Backend    â”‚                  â”‚
â”‚  â”‚   (React)    â”‚  REST   â”‚   (Express)  â”‚                  â”‚
â”‚  â”‚              â”‚   API   â”‚              â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚         â”‚                         â”‚                          â”‚
â”‚         â”‚                         â–¼                          â”‚
â”‚         â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â”‚                  â”‚              â”‚                  â”‚
â”‚         â”‚                  â”‚   Database   â”‚                  â”‚
â”‚         â”‚                  â”‚   (SQLite)   â”‚                  â”‚
â”‚         â”‚                  â”‚   +Prisma    â”‚                  â”‚
â”‚         â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚         â”‚                                                     â”‚
â”‚         â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚   Service    â”‚                                            â”‚
â”‚  â”‚   Worker     â”‚                                            â”‚
â”‚  â”‚   (PWA)      â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ MCP Server (çµ±åˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ )
                  â”‚
                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  åŒ»ç™‚è·å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ                   â”‚
    â”‚  (Medical Staff System)              â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  - è·å“¡ã‚«ãƒ«ãƒ†                         â”‚
    â”‚  - é¢è«‡ç®¡ç†                           â”‚
    â”‚  - ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯                    â”‚
    â”‚  - äººäº‹ãŠçŸ¥ã‚‰ã›é…ä¿¡                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ

#### ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼ˆFrontendï¼‰
- React 18ï¼ˆé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- TypeScriptï¼ˆå³æ ¼ãªå‹å®šç¾©ï¼‰
- Tailwind CSSï¼ˆã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼‰
- Viteï¼ˆãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ï¼‰
- PWAå¯¾å¿œï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œï¼‰

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼ˆBackend APIï¼‰
- Express.jsï¼ˆNode.jsï¼‰
- REST APIè¨­è¨ˆ
- JWTèªè¨¼
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆ100req/åˆ†ï¼‰
- CORSå¯¾å¿œ

#### ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
- Prisma ORM
- SQLiteï¼ˆé–‹ç™ºï¼‰
- MySQLå¯¾å¿œï¼ˆæœ¬ç•ªï¼‰

#### ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
- ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹è¨­è¨ˆ
- 18æ®µéšæ¨©é™ç®¡ç†
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†
- åˆ†æã‚¨ãƒ³ã‚¸ãƒ³

---

## 3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### 3.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **React** | 18.2.0 | UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| **TypeScript** | 5.2.2 | å‹å®‰å…¨ãªé–‹ç™º |
| **Vite** | 5.0.8 | ãƒ“ãƒ«ãƒ‰ãƒ»é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ |
| **Tailwind CSS** | 3.3.0 | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |
| **React Router** | 7.6.2 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° |
| **Lucide React** | 0.513.0 | ã‚¢ã‚¤ã‚³ãƒ³ |
| **React Toastify** | 11.0.5 | é€šçŸ¥UI |
| **jsPDF** | 3.0.3 | PDFç”Ÿæˆ |

### 3.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **Node.js** | >=18.0.0 | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  |
| **Express** | 5.1.0 | Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| **Prisma** | 6.16.2 | ORM |
| **JWT** | 9.0.2 | èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ |
| **bcryptjs** | 3.0.2 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ– |
| **Helmet** | 8.1.0 | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ |
| **CORS** | 2.8.5 | ã‚ªãƒªã‚¸ãƒ³åˆ¶å¾¡ |
| **express-rate-limit** | 8.1.0 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ |

### 3.3 é–‹ç™ºãƒ„ãƒ¼ãƒ«

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **Jest** | 30.1.3 | ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| **Supertest** | 7.1.4 | APIçµ±åˆãƒ†ã‚¹ãƒˆ |
| **ESLint** | 8.55.0 | ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ |
| **Prettier** | - | ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ |
| **tsx** | 4.20.5 | TypeScriptå®Ÿè¡Œ |

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 4.1 ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

#### Userï¼ˆè·å“¡ï¼‰
```typescript
model User {
  id: String @id @default(cuid())
  employeeId: String @unique           // è·å“¡ID
  email: String @unique                // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  name: String                         // æ°å
  department: String?                  // æ‰€å±éƒ¨ç½²
  facilityId: String?                  // æ–½è¨­ID
  role: String?                        // å½¹è·
  accountType: String                  // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¨®åˆ¥
  permissionLevel: Decimal             // æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆ1-18, Xï¼‰
  canPerformLeaderDuty: Boolean        // ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™å¯å¦
  professionCategory: String?          // è·ç¨®ã‚«ãƒ†ã‚´ãƒª
  position: String?                    // å½¹è·
  parentId: String?                    // ä¸Šå¸IDï¼ˆéšå±¤æ§‹é€ ï¼‰
  budgetApprovalLimit: Float?          // äºˆç®—æ‰¿èªä¸Šé™
  isRetired: Boolean @default(false)   // é€€è·ãƒ•ãƒ©ã‚°
  retirementDate: DateTime?            // é€€è·æ—¥

  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  interviews: Interview[]
  notifications: Notification[]
  projects: Project[]
  feedbackSent: Feedback[]
  feedbackReceived: Feedback[]
  // ...ãã®ä»–
}
```

#### Interviewï¼ˆé¢è«‡ï¼‰
```typescript
model Interview {
  id: String @id @default(cuid())
  employeeId: String                   // è·å“¡ID
  category: String                     // ã‚«ãƒ†ã‚´ãƒªï¼ˆã‚­ãƒ£ãƒªã‚¢ã€ãƒ¡ãƒ³ã‚¿ãƒ«ç­‰ï¼‰
  type: String                         // ç¨®åˆ¥
  topic: String                        // é¢è«‡å†…å®¹
  preferredDate: DateTime              // å¸Œæœ›æ—¥æ™‚
  scheduledDate: DateTime?             // ç¢ºå®šæ—¥æ™‚
  actualDate: DateTime?                // å®Ÿæ–½æ—¥æ™‚
  duration: Int?                       // æ‰€è¦æ™‚é–“ï¼ˆåˆ†ï¼‰
  interviewerId: String?               // é¢è«‡è€…ID
  interviewerName: String?             // é¢è«‡è€…å
  status: String @default("pending")   // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  urgencyLevel: String                 // ç·Šæ€¥åº¦
  result: String?                      // çµæœ
  notes: String?                       // ãƒ¡ãƒ¢
  followUpRequired: Boolean            // ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—è¦å¦
  followUpDate: DateTime?              // ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—æ—¥

  employee: User @relation(fields: [employeeId], references: [id])
}
```

#### Notificationï¼ˆé€šçŸ¥ï¼‰
```typescript
model Notification {
  id: String @id @default(cuid())
  category: String                     // ã‚«ãƒ†ã‚´ãƒª
  subcategory: String?                 // ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª
  priority: String                     // å„ªå…ˆåº¦
  title: String                        // ã‚¿ã‚¤ãƒˆãƒ«
  content: String                      // å†…å®¹
  target: String                       // é…ä¿¡å¯¾è±¡
  senderId: String                     // é€ä¿¡è€…ID
  status: String @default("pending")   // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  sentAt: DateTime?                    // é€ä¿¡æ—¥æ™‚
  recipientCount: Int @default(0)      // å—ä¿¡è€…æ•°
  readCount: Int @default(0)           // æ—¢èª­æ•°
  clickCount: Int @default(0)          // ã‚¯ãƒªãƒƒã‚¯æ•°

  sender: User @relation(fields: [senderId], references: [id])
}
```

#### Projectï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
```typescript
model Project {
  id: String @id @default(cuid())
  title: String                        // ã‚¿ã‚¤ãƒˆãƒ«
  description: String                  // èª¬æ˜
  category: String                     // ã‚«ãƒ†ã‚´ãƒª
  proposerId: String                   // ææ¡ˆè€…ID
  objectives: Json                     // ç›®æ¨™
  expectedOutcomes: Json               // æœŸå¾…ã•ã‚Œã‚‹æˆæœ
  budget: Float?                       // äºˆç®—
  timeline: Json?                      // ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
  status: String @default("proposed")  // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  priority: String?                    // å„ªå…ˆåº¦
  approvalLevel: Int @default(0)       // æ‰¿èªãƒ¬ãƒ™ãƒ«
  approvedBy: Json?                    // æ‰¿èªè€…
  progressRate: Float @default(0)      // é€²æ—ç‡
  milestones: Json?                    // ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
  roi: Float?                          // ROI

  proposer: User @relation(fields: [proposerId], references: [id])
}
```

#### Surveyï¼ˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆï¼‰
```typescript
model Survey {
  id: String @id @default(cuid())
  title: String                        // ã‚¿ã‚¤ãƒˆãƒ«
  description: String?                 // èª¬æ˜
  category: String                     // ã‚«ãƒ†ã‚´ãƒª
  createdById: String                  // ä½œæˆè€…ID
  targetAudience: String               // å¯¾è±¡è€…
  deadline: DateTime                   // ç· åˆ‡
  isAnonymous: Boolean @default(true)  // åŒ¿åãƒ•ãƒ©ã‚°
  questions: Json                      // è³ªå•ï¼ˆJSONï¼‰
  responseCount: Int @default(0)       // å›ç­”æ•°
  completionRate: Float?               // å®Œäº†ç‡
  averageScore: Float?                 // å¹³å‡ã‚¹ã‚³ã‚¢
  status: String @default("draft")     // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

  createdBy: User @relation(fields: [createdById], references: [id])
  responses: SurveyResponse[]
}
```

#### PostReportï¼ˆæŠ•ç¨¿é€šå ±ï¼‰
```typescript
model PostReport {
  id: String @id @default(cuid())
  postId: String                       // æŠ•ç¨¿ID
  alertId: String?                     // ã‚¢ãƒ©ãƒ¼ãƒˆID
  reporterId: String                   // é€šå ±è€…ID
  reporterName: String?                // é€šå ±è€…åï¼ˆåŒ¿åå¯ï¼‰
  reportType: String                   // é€šå ±ç¨®åˆ¥
  description: String?                 // èª¬æ˜
  status: String @default("pending")   // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  reviewedBy: String?                  // ãƒ¬ãƒ“ãƒ¥ãƒ¼è€…ID
  reviewedAt: DateTime?                // ãƒ¬ãƒ“ãƒ¥ãƒ¼æ—¥æ™‚
  actionTaken: String?                 // å¯¾å¿œå†…å®¹
  reviewNotes: String?                 // ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¡ãƒ¢

  reporter: User @relation("ReportSender", fields: [reporterId], references: [id])
  reviewer: User? @relation("ReportReviewer", fields: [reviewedBy], references: [id])
}
```

### 4.2 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ERå›³ï¼ˆç°¡æ˜“ç‰ˆï¼‰

```
User â”€â”€â”¬â”€â”€< Interview
       â”œâ”€â”€< Notification
       â”œâ”€â”€< Project
       â”œâ”€â”€< Survey
       â”œâ”€â”€< Feedback (é€ä¿¡)
       â”œâ”€â”€< Feedback (å—ä¿¡)
       â”œâ”€â”€< PostReport (é€šå ±è€…)
       â”œâ”€â”€< PostReport (ãƒ¬ãƒ“ãƒ¥ãƒ¼è€…)
       â””â”€â”€< AuditLog

Survey â”€â”€< SurveyResponse

Project â”€â”€< (æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)

PostReport â”€â”€< PostReportAlert
```

---

## 5. ä¸»è¦æ©Ÿèƒ½

### 5.1 æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3ç¨®é¡ï¼‰

#### 5.1.1 ğŸ’¡ æ”¹å–„ææ¡ˆï¼ˆIdea Voiceï¼‰
**ç”¨é€”**ï¼šæ¥­å‹™åŠ¹ç‡åŒ–ã€å“è³ªå‘ä¸Šã€ã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ã‚¢ã‚¤ãƒ‡ã‚¢ææ¡ˆ

**æ©Ÿèƒ½**ï¼š
- 5æ®µéšæŠ•ç¥¨ï¼ˆå¼·ãåå¯¾ã€œå¼·ãè³›æˆï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆæ„å½¢æˆåº¦è¡¨ç¤º
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- é€²æ—è¿½è·¡ï¼ˆææ¡ˆâ†’å¯©æŸ»â†’å®Ÿè¡Œâ†’å®Œäº†ï¼‰

**ç”»é¢**ï¼š
- [HomePage.tsx](../src/pages/HomePage.tsx:1) - ãƒ¡ã‚¤ãƒ³æŠ•ç¨¿ç”»é¢
- [ComposeCard.tsx](../src/components/ComposeCard.tsx:1) - æŠ•ç¨¿ä½œæˆ
- [IdeaVoiceTracking.tsx](../src/pages/IdeaVoiceTracking.tsx:1) - ææ¡ˆè¿½è·¡

#### 5.1.2 ğŸ‘¥ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ï¼ˆFree Voiceï¼‰
**ç”¨é€”**ï¼šæƒ…å ±å…±æœ‰ã€ç›¸è«‡ã€é›‘è«‡ã€è·å ´ã®å£°

**æ©Ÿèƒ½**ï¼š
- ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãªæŠ•ç¨¿ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ
- ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- ã‚¿ã‚°ãƒ»ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
- ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤º

**ç”»é¢**ï¼š
- [HomePage.tsx](../src/pages/HomePage.tsx:1)ï¼ˆã‚¿ãƒ–åˆ‡æ›¿ï¼‰
- [FreeVoiceGuide.tsx](../src/pages/FreeVoiceGuide.tsx:1) - ã‚¬ã‚¤ãƒ‰

#### 5.1.3 ğŸš¨ å…¬ç›Šé€šå ±ï¼ˆWhistleblowingï¼‰
**ç”¨é€”**ï¼šå®‰å…¨ã€æ³•ä»¤ã€å€«ç†ã®å•é¡Œå ±å‘Š

**æ©Ÿèƒ½**ï¼š
- å®Œå…¨åŒ¿åé€šå ±
- é€šå ±ç¨®åˆ¥é¸æŠï¼ˆãƒãƒ©ã‚¹ãƒ¡ãƒ³ãƒˆã€å®‰å…¨é•åã€æ³•ä»¤é•åç­‰ï¼‰
- è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆï¼ˆé–¾å€¤è¶…éæ™‚ï¼‰
- ç®¡ç†è€…ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ãƒ­ãƒ¼
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ é€£æºï¼ˆé‡è¦æ¡ˆä»¶è‡ªå‹•é€ä¿¡ï¼‰

**ç”»é¢**ï¼š
- [WhistleblowingPage.tsx](../src/pages/WhistleblowingPage.tsx:1) - é€šå ±ç”»é¢
- [ComplianceGuide.tsx](../src/pages/ComplianceGuide.tsx:1) - ã‚¬ã‚¤ãƒ‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**ï¼š
- é€šå ±è€…IDã¯æš—å·åŒ–
- ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¨©é™è€…ã®ã¿é–²è¦§å¯èƒ½
- ç›£æŸ»ãƒ­ã‚°è¨˜éŒ²

### 5.2 é¢è«‡äºˆç´„ã‚·ã‚¹ãƒ†ãƒ 

#### 3æ®µéšé¸æŠãƒ•ãƒ­ãƒ¼
1. **åˆ†é¡é¸æŠ**ï¼ˆClassificationï¼‰
   - ã‚­ãƒ£ãƒªã‚¢é¢è«‡
   - ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹
   - æ¥­å‹™ç›¸è«‡
   - ãã®ä»–

2. **ã‚¿ã‚¤ãƒ—é¸æŠ**ï¼ˆTypeï¼‰
   - å®šæœŸé¢è«‡
   - ç·Šæ€¥é¢è«‡
   - ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—

3. **è©³ç´°å…¥åŠ›**
   - å¸Œæœ›æ—¥æ™‚
   - é¢è«‡å†…å®¹
   - ç·Šæ€¥åº¦

**å®Ÿè£…**ï¼š
- [InterviewBookingPage.tsx](../src/pages/InterviewBookingPage.tsx:1)
- [useInterviewFlow.ts](../src/hooks/useInterviewFlow.ts:1)
- [ClassificationSelector.tsx](../src/components/interview/ClassificationSelector.tsx:1)

**åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ é€£æº**ï¼š
- äºˆç´„æƒ…å ±ã‚’è‡ªå‹•é€ä¿¡
- ç¢ºå®šé€šçŸ¥ã‚’å—ä¿¡
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åŒæœŸ

### 5.3 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆéšå±¤åˆ¥ï¼‰

#### å€‹äººãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆå…¨è·å“¡ï¼‰
**ç”»é¢**ï¼š[PersonalDashboard.tsx](../src/components/dashboards/PersonalDashboard.tsx:1)

**æ©Ÿèƒ½**ï¼š
- ãƒã‚¤æŠ•ç¨¿ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ
- é¢è«‡äºˆå®š
- é€šçŸ¥ã‚»ãƒ³ã‚¿ãƒ¼
- ã‚¿ã‚¹ã‚¯ç®¡ç†

#### ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ¬ãƒ™ãƒ«5-7ï¼‰
**ç”»é¢**ï¼š[TeamLeaderDashboard.tsx](../src/components/dashboards/TeamLeaderDashboard.tsx:1)

**æ©Ÿèƒ½**ï¼š
- ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼æŠ•ç¨¿åˆ†æ
- é¢è«‡ç®¡ç†
- ã‚¿ã‚¹ã‚¯é…åˆ†
- ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæŒ‡æ¨™

#### éƒ¨é–€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ¬ãƒ™ãƒ«8-10ï¼‰
**ç”»é¢**ï¼š[DepartmentDashboard.tsx](../src/components/dashboards/DepartmentDashboard.tsx:1)

**æ©Ÿèƒ½**ï¼š
- éƒ¨é–€åˆ¥åˆ†æ
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—
- äºˆç®—åŸ·è¡ŒçŠ¶æ³
- ä¸–ä»£åˆ¥åˆ†æ

#### æ–½è¨­ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ¬ãƒ™ãƒ«11-13ï¼‰
**ç”»é¢**ï¼š[FacilityDashboard.tsx](../src/components/dashboards/FacilityDashboard.tsx:1)

**æ©Ÿèƒ½**ï¼š
- æ–½è¨­å…¨ä½“KPI
- éƒ¨é–€é–“æ¯”è¼ƒ
- ãƒªã‚¹ã‚¯å¯è¦–åŒ–
- çµŒå–¶æŒ‡æ¨™

#### æˆ¦ç•¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ¬ãƒ™ãƒ«16-18ï¼‰
**ç”»é¢**ï¼š[StrategicDashboard.tsx](../src/components/dashboards/StrategicDashboard.tsx:1)

**æ©Ÿèƒ½**ï¼š
- çµ„ç¹”å…¨ä½“åˆ†æ
- æˆ¦ç•¥çš„ã‚¤ãƒ³ã‚µã‚¤ãƒˆ
- ROIåˆ†æ
- ç†äº‹ä¼šè³‡æ–™ç”Ÿæˆ

### 5.4 äººäº‹ãŠçŸ¥ã‚‰ã›ã‚·ã‚¹ãƒ†ãƒ ï¼ˆPhase 7ï¼‰

#### ãŠçŸ¥ã‚‰ã›å—ä¿¡API
**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š`POST /api/hr-announcements`

**æ©Ÿèƒ½**ï¼š
- è·å“¡ã‚«ãƒ«ãƒ†ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ãŠçŸ¥ã‚‰ã›å—ä¿¡
- ã‚«ãƒ†ã‚´ãƒªè‡ªå‹•å¤‰æ›ï¼ˆ5ç¨®é¡ï¼‰
- é…ä¿¡å¯¾è±¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆå…¨è·å“¡/éƒ¨é–€/å€‹äººï¼‰
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³è¨­å®šï¼ˆé¢è«‡äºˆç´„ã€ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆç­‰ï¼‰

**å®Ÿè£…**ï¼š
- [hr-announcements.routes.ts](../src/api/routes/hr-announcements.routes.ts:1)
- [hr-announcements.ts](../src/types/hr-announcements.ts:1)

#### çµ±è¨ˆé€ä¿¡Webhook
**ã‚¤ãƒ™ãƒ³ãƒˆ**ï¼š`stats.updated`ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰

**é€ä¿¡å†…å®¹**ï¼š
- é…ä¿¡æ•°
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ•°
- å®Œäº†æ•°
- éƒ¨é–€åˆ¥çµ±è¨ˆ

**å®Ÿè£…**ï¼š
- [MedicalIntegrationService.ts](../src/services/MedicalIntegrationService.ts:218)
- HMAC-SHA256ç½²åä»˜ã

### 5.5 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
1. **ææ¡ˆ**ï¼ˆProposedï¼‰â†’ 2. **å¯©æŸ»ä¸­**ï¼ˆUnder Reviewï¼‰â†’ 3. **æ‰¿èª**ï¼ˆApprovedï¼‰
   â†’ 4. **å®Ÿè¡Œä¸­**ï¼ˆIn Progressï¼‰â†’ 5. **å®Œäº†**ï¼ˆCompletedï¼‰

#### æ‰¿èªãƒ—ãƒ­ã‚»ã‚¹
- å¤šæ®µéšæ‰¿èªï¼ˆæ¨©é™ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸæ‰¿èªè€…è¨­å®šï¼‰
- è‡ªå‹•ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- äºˆç®—æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- ROIè¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³

**å®Ÿè£…**ï¼š
- [ProjectService.ts](../src/api/db/projectService.ts:1)
- [ApprovalProcessInlineDetails.tsx](../src/components/approval/ApprovalProcessInlineDetails.tsx:1)

### 5.6 åˆ†æã‚¨ãƒ³ã‚¸ãƒ³

#### ä¸–ä»£åˆ¥åˆ†æ
**ç”»é¢**ï¼š[GenerationalAnalysisPage.tsx](../src/pages/GenerationalAnalysisPage.tsx:1)

**æ©Ÿèƒ½**ï¼š
- ä¸–ä»£åˆ¥ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ
- ãƒˆãƒ”ãƒƒã‚¯å‚¾å‘
- æº€è¶³åº¦æ¨ç§»

#### éšå±¤åˆ¥åˆ†æ
**ç”»é¢**ï¼š[HierarchicalAnalysisPage.tsx](../src/pages/HierarchicalAnalysisPage.tsx:1)

**æ©Ÿèƒ½**ï¼š
- å½¹è·åˆ¥åˆ†æ
- ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–
- ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—æŒ‡æ¨™

#### è·ç¨®åˆ¥åˆ†æ
**ç”»é¢**ï¼š[ProfessionalAnalysisPage.tsx](../src/pages/ProfessionalAnalysisPage.tsx:1)

**æ©Ÿèƒ½**ï¼š
- çœ‹è­·å¸«ãƒ»åŒ»å¸«ãƒ»äº‹å‹™ç­‰ã®åˆ†æ
- å°‚é–€æ€§æŒ‡æ¨™
- ã‚¹ã‚­ãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°

### 5.7 é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

**å®Ÿè£…**ï¼š[NotificationService.ts](../src/services/NotificationService.ts:1)

**é…ä¿¡ãƒãƒ£ãƒãƒ«**ï¼š
- ãƒ–ãƒ©ã‚¦ã‚¶ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥
- ã‚¢ãƒ—ãƒªå†…é€šçŸ¥ãƒãƒƒã‚¸
- ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**é€šçŸ¥ç¨®åˆ¥**ï¼š
- é¢è«‡ç¢ºå®šé€šçŸ¥
- ãŠçŸ¥ã‚‰ã›é…ä¿¡
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ›´æ–°
- æ‰¿èªä¾é ¼
- ç·Šæ€¥ã‚¢ãƒ©ãƒ¼ãƒˆ

**å„ªå…ˆåº¦åˆ¶å¾¡**ï¼š
- URGENTï¼šå³åº§ã«è¡¨ç¤º
- HIGHï¼šé‡è¦ãƒãƒ¼ã‚¯
- NORMALï¼šé€šå¸¸é€šçŸ¥
- LOWï¼šãƒãƒƒãƒé…ä¿¡

---

## 6. æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### 6.1 18æ®µéšæ¨©é™ãƒ¬ãƒ™ãƒ«

| ãƒ¬ãƒ™ãƒ« | å½¹è· | ä¸»ãªæ¨©é™ |
|--------|------|---------|
| **1** | æ–°äººï¼ˆ1å¹´ç›®ï¼‰ | æŠ•ç¨¿é–²è¦§ã€æŠ•ç¥¨ |
| **1.5** | æ–°äººçœ‹è­·å¸«ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å¯ï¼‰ | ä¸Šè¨˜ï¼‹ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™ |
| **2** | è‹¥æ‰‹ï¼ˆ2-3å¹´ç›®ï¼‰ | æŠ•ç¨¿é–²è¦§ã€æŠ•ç¥¨ |
| **2.5** | è‹¥æ‰‹çœ‹è­·å¸«ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å¯ï¼‰ | ä¸Šè¨˜ï¼‹ãƒªãƒ¼ãƒ€ãƒ¼æ¥­å‹™ |
| **3** | ä¸­å …ï¼ˆ4-10å¹´ç›®ï¼‰ | æŠ•ç¨¿é–²è¦§ã€æŠ•ç¥¨ |
| **3.5** | ä¸­å …çœ‹è­·å¸«ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å¯ï¼‰ | ä¸Šè¨˜ï¼‹æŠ•ç¨¿ç®¡ç† |
| **4** | ãƒ™ãƒ†ãƒ©ãƒ³ï¼ˆ11å¹´ä»¥ä¸Šï¼‰ | æŠ•ç¨¿é–²è¦§ã€æŠ•ç¥¨ |
| **4.5** | ãƒ™ãƒ†ãƒ©ãƒ³çœ‹è­·å¸«ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼å¯ï¼‰ | ä¸Šè¨˜ï¼‹æŠ•ç¨¿ç®¡ç† |
| **5** | å‰¯ä¸»ä»» | ãƒãƒ¼ãƒ ç®¡ç†ã€ææ¡ˆå¯©æŸ» |
| **6** | ä¸»ä»» | ãƒãƒ¼ãƒ ç®¡ç†ã€ææ¡ˆå¯©æŸ» |
| **7** | å‰¯å¸«é•·ãƒ»å‰¯ç§‘é•·ãƒ»å‰¯èª²é•· | å§”å“¡ä¼šç®¡ç† |
| **8** | å¸«é•·ãƒ»ç§‘é•·ãƒ»èª²é•·ãƒ»å®¤é•· | éƒ¨é–€é‹å–¶ |
| **9** | å‰¯éƒ¨é•· | éƒ¨é–€é‹å–¶ |
| **10** | éƒ¨é•·ãƒ»åŒ»å±€é•· | é‹å–¶å§”å“¡ä¼šã€æ–½è¨­ã‚¬ãƒãƒŠãƒ³ã‚¹ |
| **11** | äº‹å‹™é•· | æ–½è¨­ç®¡ç† |
| **12** | å‰¯é™¢é•· | æ–½è¨­ã‚¬ãƒãƒŠãƒ³ã‚¹ |
| **13** | é™¢é•·ãƒ»æ–½è¨­é•· | æ±ºå®šä¼šè­° |
| **14** | äººäº‹éƒ¨é–€å“¡ | ãƒœã‚¤ã‚¹åˆ†æã€æ–‡åŒ–é–‹ç™º |
| **15** | äººäº‹å„éƒ¨é–€é•· | çµ„ç¹”ã‚¤ãƒ³ã‚µã‚¤ãƒˆ |
| **16** | æˆ¦ç•¥ä¼ç”»ãƒ»çµ±æ‹¬ç®¡ç†éƒ¨é–€å“¡ | æˆ¦ç•¥HRè¨ˆç”»ã€ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–å ±å‘Š |
| **17** | æˆ¦ç•¥ä¼ç”»ãƒ»çµ±æ‹¬ç®¡ç†éƒ¨é–€é•· | ç†äº‹ä¼šæº–å‚™ |
| **18** | ç†äº‹é•·ãƒ»æ³•äººäº‹å‹™å±€é•· | ç†äº‹ä¼šæ©Ÿèƒ½ã€æˆ¦ç•¥ã‚¬ãƒãƒŠãƒ³ã‚¹ã€æœ€çµ‚æ‰¿èª |
| **X** | ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€… | å…¨æ¨©é™ |

### 6.2 æ¨©é™ãƒã‚§ãƒƒã‚¯å®Ÿè£…

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**ï¼š
```typescript
// src/permissions/hooks/usePermissions.ts
export function usePermissions() {
  const canAccessRoute = (requiredLevel: number) => {
    return currentUser.permissionLevel >= requiredLevel;
  };

  const canEditProject = (project: Project) => {
    return currentUser.id === project.proposerId
      || currentUser.permissionLevel >= 7;
  };
}
```

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**ï¼š
```typescript
// src/api/middleware/auth.ts
export function requirePermission(minLevel: number) {
  return (req, res, next) => {
    if (req.user.permissionLevel < minLevel) {
      return res.status(403).json({ error: 'Forbidden' });
    }
    next();
  };
}
```

### 6.3 è­°é¡Œãƒ¢ãƒ¼ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼

**å®Ÿè£…**ï¼š[agendaMenuConfig.ts](../src/config/agendaMenuConfig.ts:1)

**ãƒ¬ãƒ™ãƒ«åˆ¥è¡¨ç¤ºä¾‹**ï¼š
- **ãƒ¬ãƒ™ãƒ«1**ï¼šæŠ•ç¨¿ã®è¿½è·¡
- **ãƒ¬ãƒ™ãƒ«7**ï¼šæŠ•ç¨¿ç®¡ç†ã€å§”å“¡ä¼šç®¡ç†
- **ãƒ¬ãƒ™ãƒ«13**ï¼šæ±ºå®šä¼šè­°
- **ãƒ¬ãƒ™ãƒ«18**ï¼šç†äº‹ä¼šæ©Ÿèƒ½ã€æœ€çµ‚æ‰¿èª

---

## 7. å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº

### 7.1 åŒ»ç™‚è·å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ

#### MCPã‚µãƒ¼ãƒãƒ¼
**å ´æ‰€**ï¼š`mcp-integration-server/`

**å½¹å‰²**ï¼š
- VoiceDrive â‡” è·å“¡ã‚«ãƒ«ãƒ†ã‚·ã‚¹ãƒ†ãƒ é–“ã®ä¸­é–“å±¤
- ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ»ãƒãƒƒãƒ”ãƒ³ã‚°
- åŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†

**èµ·å‹•**ï¼š
```bash
cd mcp-integration-server
npm run dev
```

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ï¼š
- `http://localhost:8080` - MCP API
- `http://localhost:8080/dashboard` - ç®¡ç†ç”»é¢

#### å…±æœ‰ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚©ãƒ«ãƒ€
**å ´æ‰€**ï¼š`mcp-shared/`

```
mcp-shared/
â”œâ”€â”€ docs/               # å ±å‘Šæ›¸ã€è¨­è¨ˆæ›¸
â”œâ”€â”€ config/             # interview-types.json ç­‰
â”œâ”€â”€ interfaces/         # TypeScriptå‹å®šç¾©
â”œâ”€â”€ logs/               # ãƒ†ã‚¹ãƒˆçµæœ
â””â”€â”€ sync-status.json    # åŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
```

**è‡ªå‹•åŒæœŸ**ï¼š
- è·å“¡ã‚«ãƒ«ãƒ†å´ã§ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–° â†’ MCPçµŒç”±ã§VoiceDriveã«é€šçŸ¥
- `AI_SUMMARY.md`ã«é‡è¦æ›´æ–°ã‚’è¦ç´„

### 7.2 åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ é€£æºã‚µãƒ¼ãƒ“ã‚¹

**å®Ÿè£…**ï¼š[MedicalIntegrationService.ts](../src/services/MedicalIntegrationService.ts:1)

#### é€ä¿¡æ©Ÿèƒ½
1. **ãŠçŸ¥ã‚‰ã›é€ä¿¡**
   - VoiceDrive â†’ åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ 
   - ã‚«ãƒ†ã‚´ãƒªãƒ»å„ªå…ˆåº¦ãƒãƒƒãƒ”ãƒ³ã‚°
   - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³è¨­å®š

2. **é¢è«‡äºˆç´„é€ä¿¡**
   - äºˆç´„æƒ…å ±ã®è‡ªå‹•è»¢é€
   - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åŒæœŸ

3. **çµ±è¨ˆé€ä¿¡**
   - WebhookçµŒç”±ï¼ˆHMACç½²åä»˜ãï¼‰
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµ±è¨ˆ

#### å—ä¿¡æ©Ÿèƒ½
1. **ãŠçŸ¥ã‚‰ã›å—ä¿¡**
   - `POST /api/hr-announcements`
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å¤‰æ›
   - é…ä¿¡å¯¾è±¡ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

2. **é¢è«‡çµæœå—ä¿¡**
   - `POST /api/interview-results`
   - é¢è«‡è¨˜éŒ²ä¿å­˜

3. **é€šå ±å—ä¿¡ç¢ºèª**
   - `POST /api/compliance-acknowledgements`
   - é‡è¦é€šå ±ã®å‡¦ç†çŠ¶æ³ç¢ºèª

### 7.3 å„ªå…ˆåº¦ãƒ»ã‚«ãƒ†ã‚´ãƒªãƒãƒƒãƒ”ãƒ³ã‚°

#### å„ªå…ˆåº¦ãƒãƒƒãƒ”ãƒ³ã‚°
| VoiceDrive | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  |
|-----------|-------------|
| URGENT | high |
| HIGH | high |
| NORMAL | medium |
| LOW | low |

**å®Ÿè£…**ï¼š[priorityMapping.ts](../src/utils/priorityMapping.ts:1)

#### ã‚«ãƒ†ã‚´ãƒªãƒãƒƒãƒ”ãƒ³ã‚°
| VoiceDrive | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  |
|-----------|-------------|
| ANNOUNCEMENT | announcement |
| MEETING | interview |
| TRAINING | training |
| SURVEY | survey |
| OTHER | other |

**å®Ÿè£…**ï¼š[categoryMapping.ts](../src/utils/categoryMapping.ts:1)

---

## 8. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### 8.1 èªè¨¼API

#### `POST /api/auth/login`
**ç”¨é€”**ï¼šãƒ­ã‚°ã‚¤ãƒ³

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**ï¼š
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**ï¼š
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "user": {
    "id": "user123",
    "name": "å±±ç”°å¤ªéƒ",
    "permissionLevel": 5
  }
}
```

#### `POST /api/auth/logout`
**ç”¨é€”**ï¼šãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

### 8.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼API

#### `GET /api/users/:id`
**ç”¨é€”**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

#### `PUT /api/users/:id`
**ç”¨é€”**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±æ›´æ–°

#### `GET /api/users/:id/dashboard`
**ç”¨é€”**ï¼šãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿å–å¾—

### 8.3 é¢è«‡API

#### `POST /api/interviews`
**ç”¨é€”**ï¼šé¢è«‡äºˆç´„ä½œæˆ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**ï¼š
```json
{
  "employeeId": "user123",
  "category": "career",
  "type": "regular",
  "topic": "ã‚­ãƒ£ãƒªã‚¢ãƒ—ãƒ©ãƒ³ç›¸è«‡",
  "preferredDate": "2025-10-15T10:00:00Z",
  "urgencyLevel": "medium"
}
```

#### `GET /api/interviews`
**ç”¨é€”**ï¼šé¢è«‡ä¸€è¦§å–å¾—

#### `PUT /api/interviews/:id`
**ç”¨é€”**ï¼šé¢è«‡æ›´æ–°

### 8.4 é€šçŸ¥API

#### `GET /api/notifications`
**ç”¨é€”**ï¼šé€šçŸ¥ä¸€è¦§å–å¾—

#### `POST /api/notifications`
**ç”¨é€”**ï¼šé€šçŸ¥ä½œæˆ

#### `PUT /api/notifications/:id/read`
**ç”¨é€”**ï¼šæ—¢èª­ãƒãƒ¼ã‚¯

### 8.5 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆAPI

#### `GET /api/projects`
**ç”¨é€”**ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§å–å¾—

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ï¼š
- `status`: proposed, approved, in_progress, completed
- `category`: efficiency, quality, cost, other
- `proposerId`: ææ¡ˆè€…ID

#### `POST /api/projects`
**ç”¨é€”**ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

#### `PUT /api/projects/:id/approve`
**ç”¨é€”**ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ‰¿èª

### 8.6 äººäº‹ãŠçŸ¥ã‚‰ã›APIï¼ˆPhase 7ï¼‰

#### `POST /api/hr-announcements`
**ç”¨é€”**ï¼šãŠçŸ¥ã‚‰ã›å—ä¿¡ï¼ˆè·å“¡ã‚«ãƒ«ãƒ†ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ï¼‰

**èªè¨¼**ï¼šBearer Token + X-Source-System ãƒ˜ãƒƒãƒ€ãƒ¼

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**ï¼š
```json
{
  "title": "å®šæœŸå¥åº·è¨ºæ–­ã®ãŠçŸ¥ã‚‰ã›",
  "content": "2025å¹´10æœˆ20æ—¥ã€œ31æ—¥ã«å®Ÿæ–½ã—ã¾ã™ã€‚",
  "category": "announcement",
  "priority": "medium",
  "targetType": "all",
  "hasActionButton": true,
  "actionButton": {
    "type": "health_check",
    "label": "äºˆç´„ã™ã‚‹",
    "url": "https://medical-system.example.com/health-check"
  },
  "requireResponse": true,
  "autoTrackResponse": true,
  "metadata": {
    "sourceSystem": "medical-staff-system",
    "sourceAnnouncementId": "ann-20251007-001",
    "createdBy": "äººäº‹éƒ¨",
    "createdAt": "2025-10-07T09:00:00Z"
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**ï¼š
```json
{
  "success": true,
  "data": {
    "voicedriveAnnouncementId": "vd-ann-123",
    "status": "published",
    "publishedAt": "2025-10-07T09:00:10Z",
    "estimatedDelivery": 150
  }
}
```

**ä»•æ§˜æ›¸**ï¼š`mcp-shared/docs/VoiceDrive_HR_Announcement_Receive_API_Specification_20251007.md`

#### `POST /api/medical/stats` (Webhook)
**ç”¨é€”**ï¼šçµ±è¨ˆé€ä¿¡ï¼ˆVoiceDrive â†’ è·å“¡ã‚«ãƒ«ãƒ†ï¼‰

**èªè¨¼**ï¼šHMAC-SHA256ç½²åï¼ˆ`X-VoiceDrive-Signature`ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰

**ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰**ï¼š
```json
{
  "event": "stats.updated",
  "timestamp": "2025-10-07T10:30:00Z",
  "announcement": {
    "id": "vd-ann-123",
    "title": "å®šæœŸå¥åº·è¨ºæ–­ã®ãŠçŸ¥ã‚‰ã›",
    "category": "announcement",
    "priority": "medium",
    "publishedAt": "2025-10-07T09:00:10Z"
  },
  "stats": {
    "delivered": 150,
    "actions": 45,
    "completions": 30
  },
  "metadata": {
    "source": "voicedrive",
    "version": "1.0.0",
    "environment": "production"
  }
}
```

**ä»•æ§˜æ›¸**ï¼š`mcp-shared/docs/VoiceDrive_Stats_Webhook_Specification_20251007.md`

### 8.7 æ¨©é™API

#### `GET /api/permissions/check`
**ç”¨é€”**ï¼šæ¨©é™ãƒã‚§ãƒƒã‚¯

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ï¼š
- `action`: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å
- `resourceId`: ãƒªã‚½ãƒ¼ã‚¹ID

### 8.8 ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- **100ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†/IP**
- è¶…éæ™‚ï¼š`429 Too Many Requests`
- ãƒªãƒˆãƒ©ã‚¤ï¼šæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•æ¨å¥¨

---

## 9. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ

### 9.1 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/
â”œâ”€â”€ api/                        # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
â”‚   â”œâ”€â”€ routes/                 # ãƒ«ãƒ¼ãƒˆå®šç¾©
â”‚   â”‚   â”œâ”€â”€ auth.routes.ts
â”‚   â”‚   â”œâ”€â”€ hr-announcements.routes.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ db/                     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ userService.ts
â”‚   â”‚   â”œâ”€â”€ interviewService.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ middleware/             # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â””â”€â”€ server.ts               # Expressã‚µãƒ¼ãƒãƒ¼
â”‚
â”œâ”€â”€ components/                 # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ dashboards/             # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ PersonalDashboard.tsx
â”‚   â”‚   â”œâ”€â”€ TeamLeaderDashboard.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ analytics/              # åˆ†æã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ interview/              # é¢è«‡é–¢é€£
â”‚   â”œâ”€â”€ authority/              # æ¨©é™é–¢é€£
â”‚   â”œâ”€â”€ ui/                     # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ pages/                      # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ HomePage.tsx            # ãƒ¡ã‚¤ãƒ³ãƒ•ã‚£ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ InterviewBookingPage.tsx
â”‚   â”œâ”€â”€ WhistleblowingPage.tsx
â”‚   â”œâ”€â”€ DecisionMeetingPage.tsx
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ hooks/                      # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ usePermissions.ts
â”‚   â”œâ”€â”€ useInterviewFlow.ts
â”‚   â”œâ”€â”€ useVoting.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ services/                   # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ MedicalIntegrationService.ts
â”‚   â”œâ”€â”€ NotificationService.ts
â”‚   â”œâ”€â”€ VotingService.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ types/                      # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ hr-announcements.ts
â”‚   â”œâ”€â”€ interview.ts
â”‚   â”œâ”€â”€ profile.ts
â”‚   â”œâ”€â”€ authority.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ utils/                      # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ priorityMapping.ts
â”‚   â”œâ”€â”€ categoryMapping.ts
â”‚   â”œâ”€â”€ dateUtils.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ permissions/                # æ¨©é™ç®¡ç†
â”‚   â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ components/
â”‚
â”œâ”€â”€ config/                     # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ agendaMenuConfig.ts     # è­°é¡Œãƒ¢ãƒ¼ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â””â”€â”€ postingGuidelines.ts
â”‚
â”œâ”€â”€ data/                       # ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ medical/                # åŒ»ç™‚ç³»ãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â”œâ”€â”€ departments.ts
â”‚   â”‚   â”œâ”€â”€ professions.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ demo/                   # ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿
â”‚
â””â”€â”€ App.tsx                     # ã‚¢ãƒ—ãƒªãƒ«ãƒ¼ãƒˆ
```

### 9.2 ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**å®Ÿè£…**ï¼š[App.tsx](../src/App.tsx:1)

```typescript
// ä¸»è¦ãƒ«ãƒ¼ãƒˆï¼ˆæŠœç²‹ï¼‰
<Routes>
  <Route path="/" element={<HomePage />} />
  <Route path="/interview-booking" element={<InterviewBookingPage />} />
  <Route path="/whistleblowing" element={<WhistleblowingPage />} />

  {/* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ */}
  <Route path="/dashboard/personal" element={<PersonalDashboardPage />} />
  <Route path="/dashboard/team-leader" element={<TeamLeaderDashboardPage />} />
  <Route path="/dashboard/department" element={<DepartmentDashboardPage />} />

  {/* è­°é¡Œãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¨©é™åˆ¥ï¼‰ */}
  <Route path="/decision-meeting" element={<DecisionMeetingPage />} />
  <Route path="/facility-governance" element={<FacilityGovernancePage />} />
  <Route path="/strategic-governance" element={<StrategicGovernancePage />} />

  {/* äººäº‹ãŠçŸ¥ã‚‰ã›ï¼ˆPhase 7ï¼‰ */}
  <Route path="/hr-announcements" element={<HRAnnouncementsPage />} />

  {/* ãã®ä»– */}
  <Route path="/unauthorized" element={<UnauthorizedPage />} />
  <Route path="*" element={<NotFoundPage />} />
</Routes>
```

### 9.3 çŠ¶æ…‹ç®¡ç†

**æ–¹é‡**ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆAPI + ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯

**ä¸»è¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ**ï¼š
- `AuthContext`ï¼šèªè¨¼çŠ¶æ…‹
- `NotificationContext`ï¼šé€šçŸ¥ç®¡ç†
- `ThemeContext`ï¼šãƒ†ãƒ¼ãƒè¨­å®š

**ä¾‹**ï¼š
```typescript
// src/contexts/AuthContext.tsx
export const AuthProvider = ({ children }) => {
  const [currentUser, setCurrentUser] = useState(null);

  const login = async (credentials) => { /* ... */ };
  const logout = () => { /* ... */ };

  return (
    <AuthContext.Provider value={{ currentUser, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};
```

### 9.4 ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

**Tailwind CSS**ï¼šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ

**ãƒ†ãƒ¼ãƒ**ï¼š
- ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆXé¢¨ï¼‰
- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯
- ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ï¼ˆbackdrop-blurï¼‰
- ã‚°ãƒ­ãƒ¼/ã‚·ãƒãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**ä¾‹**ï¼š
```tsx
<div className="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen">
  <div className="backdrop-blur-xl bg-white/10 rounded-2xl shadow-2xl">
    {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
  </div>
</div>
```

---

## 10. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### 10.1 èªè¨¼ãƒ»èªå¯

#### JWTèªè¨¼
**å®Ÿè£…**ï¼š[auth.ts](../src/api/middleware/auth.ts:1)

```typescript
// ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
const token = jwt.sign(
  { userId: user.id, permissionLevel: user.permissionLevel },
  process.env.JWT_SECRET,
  { expiresIn: '7d' }
);

// ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
const decoded = jwt.verify(token, process.env.JWT_SECRET);
```

#### ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
```typescript
import bcrypt from 'bcryptjs';

// ãƒãƒƒã‚·ãƒ¥åŒ–
const hashedPassword = await bcrypt.hash(password, 10);

// æ¤œè¨¼
const isValid = await bcrypt.compare(password, user.hashedPassword);
```

### 10.2 CORSè¨­å®š

**å®Ÿè£…**ï¼š[server.ts](../src/api/server.ts:31)

```typescript
app.use(cors({
  origin: [
    'http://localhost:3000',      // è·å“¡ã‚«ãƒ«ãƒ†é–‹ç™ºç’°å¢ƒ
    'http://localhost:3001',      // VoiceDriveé–‹ç™ºç’°å¢ƒ
    'https://voicedrive.ohara-hospital.jp',
    'https://staging.voicedrive.ohara-hospital.jp',
    // Phase 7ã§è·å“¡ã‚«ãƒ«ãƒ†æœ¬ç•ªãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ äºˆå®š
  ],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS']
}));
```

### 10.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼

**Helmet.js**ï¼š
```typescript
import helmet from 'helmet';

app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      scriptSrc: ["'self'", "'unsafe-inline'"],
      styleSrc: ["'self'", "'unsafe-inline'"],
      imgSrc: ["'self'", "data:", "https:"]
    }
  }
}));
```

### 10.4 ãƒ¬ãƒ¼ãƒˆåˆ¶é™

```typescript
import rateLimit from 'express-rate-limit';

const apiLimiter = rateLimit({
  windowMs: 1 * 60 * 1000,  // 1åˆ†
  max: 100,                 // 100ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†
  message: {
    error: {
      code: 'RATE_LIMIT_EXCEEDED',
      message: 'APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤šã™ãã¾ã™ã€‚'
    }
  }
});

app.use('/api/', apiLimiter);
```

### 10.5 Webhookç½²åæ¤œè¨¼

**HMAC-SHA256ç½²å**ï¼š

**é€ä¿¡å´ï¼ˆVoiceDriveï¼‰**ï¼š
```typescript
// src/services/MedicalIntegrationService.ts:318
const signature = await crypto.subtle.sign('HMAC', key, messageData);
headers['X-VoiceDrive-Signature'] = signature;
```

**å—ä¿¡å´ï¼ˆè·å“¡ã‚«ãƒ«ãƒ†ï¼‰**ï¼š
```typescript
const expectedSignature = crypto
  .createHmac('sha256', SECRET)
  .update(requestBody)
  .digest('hex');

if (receivedSignature !== expectedSignature) {
  throw new Error('Invalid signature');
}
```

### 10.6 åŒ¿åæ€§ä¿è­·ï¼ˆé€šå ±ã‚·ã‚¹ãƒ†ãƒ ï¼‰

- é€šå ±è€…IDã¯æš—å·åŒ–ã—ã¦ä¿å­˜
- ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¨©é™è€…ï¼ˆãƒ¬ãƒ™ãƒ«14+ï¼‰ã®ã¿å¾©å·å¯èƒ½
- ç›£æŸ»ãƒ­ã‚°ã«å…¨ã‚¢ã‚¯ã‚»ã‚¹è¨˜éŒ²
- é€šå ±å†…å®¹ã¯åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã«åˆ†é›¢ä¿å­˜

---

## 11. é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

### 11.1 ç’°å¢ƒå¤‰æ•°

**é–‹ç™ºç’°å¢ƒ**ï¼š`.env`ãƒ•ã‚¡ã‚¤ãƒ«

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
DATABASE_URL="file:./dev.db"

# JWTèªè¨¼
JWT_SECRET="your-jwt-secret-key"

# åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
REACT_APP_MEDICAL_API_URL="https://api.medical-team.example.com"
REACT_APP_MEDICAL_API_TOKEN="your-medical-api-token"
REACT_APP_MEDICAL_WEBHOOK_SECRET="your-webhook-secret-key"
REACT_APP_MEDICAL_STATS_WEBHOOK_URL="https://medical-system.example.com/api/voicedrive/stats"

# ã‚µãƒ¼ãƒãƒ¼è¨­å®š
PORT=4000
NODE_ENV=development
```

**æœ¬ç•ªç’°å¢ƒ**ï¼šç’°å¢ƒå¤‰æ•°ã§è¨­å®šï¼ˆVercelã€AWSç­‰ï¼‰

### 11.2 é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```bash
npm run dev
# â†’ http://localhost:3001
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
```bash
npm run dev:api
# â†’ http://localhost:4000
```

#### MCPã‚µãƒ¼ãƒãƒ¼
```bash
cd mcp-integration-server
npm run dev
# â†’ http://localhost:8080
```

### 11.3 ãƒ“ãƒ«ãƒ‰

#### ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
```bash
npm run build
```

#### å³æ ¼ãƒ¢ãƒ¼ãƒ‰ï¼ˆå‹ãƒã‚§ãƒƒã‚¯ä»˜ãï¼‰
```bash
npm run build:strict
```

#### Vercelç”¨
```bash
npm run build:vercel
```

### 11.4 ãƒ†ã‚¹ãƒˆ

#### å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
npm test
```

#### çµ±åˆãƒ†ã‚¹ãƒˆ
```bash
npm run test:integration
```

#### ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆ
```bash
npm run test:scenario1  # ã‚·ãƒŠãƒªã‚ª1
npm run test:scenario2  # ã‚·ãƒŠãƒªã‚ª2
npm run test:all-scenarios  # å…¨ã‚·ãƒŠãƒªã‚ª
```

#### ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
```bash
npm run test:watch
```

### 11.5 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```bash
npx prisma migrate dev --name <migration_name>
```

#### ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
```bash
npm run db:seed
```

#### çµ±åˆãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
```bash
npm run seed:integration-test
```

#### Prismaã‚¹ã‚­ãƒ¼ãƒåŒæœŸ
```bash
npx prisma generate
```

### 11.6 ãƒ‡ãƒ—ãƒ­ã‚¤

#### Vercelï¼ˆæ¨å¥¨ï¼‰
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¥ç¶šï¼ˆåˆå›ã®ã¿ï¼‰
vercel login
vercel link

# ãƒ‡ãƒ—ãƒ­ã‚¤
vercel --prod
```

**è¨­å®š**ï¼š`vercel.json`
```json
{
  "buildCommand": "npm run build:vercel",
  "outputDirectory": "dist",
  "framework": "vite",
  "env": {
    "DATABASE_URL": "@database-url",
    "JWT_SECRET": "@jwt-secret"
  }
}
```

#### ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
vercel env add DATABASE_URL
vercel env add JWT_SECRET
vercel env add REACT_APP_MEDICAL_API_TOKEN
```

---

## 12. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 12.1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£

#### ã‚¨ãƒ©ãƒ¼ï¼š`Prisma Client not generated`
**è§£æ±º**ï¼š
```bash
npx prisma generate
```

#### ã‚¨ãƒ©ãƒ¼ï¼š`Migration failed`
**è§£æ±º**ï¼š
```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚»ãƒƒãƒˆï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
npx prisma migrate reset

# å†ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx prisma migrate dev
```

### 12.2 ãƒ“ãƒ«ãƒ‰é–¢é€£

#### ã‚¨ãƒ©ãƒ¼ï¼š`TypeScript errors`
**è§£æ±º**ï¼š
```bash
# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check

# ã‚¨ãƒ©ãƒ¼è©³ç´°ç¢ºèª
npx tsc --noEmit --skipLibCheck
```

#### ã‚¨ãƒ©ãƒ¼ï¼š`Module not found`
**è§£æ±º**ï¼š
```bash
# ä¾å­˜é–¢ä¿‚å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules package-lock.json
npm install
```

### 12.3 èªè¨¼é–¢é€£

#### ã‚¨ãƒ©ãƒ¼ï¼š`JWT malformed`
**åŸå› **ï¼šãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹

**è§£æ±º**ï¼š
1. ãƒ–ãƒ©ã‚¦ã‚¶ã®LocalStorageã‚’ã‚¯ãƒªã‚¢
2. å†ãƒ­ã‚°ã‚¤ãƒ³
3. JWT_SECREtãŒæ­£ã—ã„ã‹ç¢ºèª

#### ã‚¨ãƒ©ãƒ¼ï¼š`401 Unauthorized`
**åŸå› **ï¼šãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ

**è§£æ±º**ï¼š
- ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ã‚’ç¢ºèªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ7æ—¥ï¼‰
- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æ©Ÿèƒ½ã®å®Ÿè£…ã‚’æ¤œè¨

### 12.4 åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ é€£æº

#### ã‚¨ãƒ©ãƒ¼ï¼š`Webhook signature verification failed`
**åŸå› **ï¼šç½²åä¸ä¸€è‡´

**è§£æ±º**ï¼š
1. `REACT_APP_MEDICAL_WEBHOOK_SECRET`ãŒä¸¡ã‚·ã‚¹ãƒ†ãƒ ã§ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª
2. ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ãŒæ”¹å¤‰ã•ã‚Œã¦ã„ãªã„ã‹ç¢ºèª
3. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ‰ãƒªãƒ•ãƒˆï¼ˆ5åˆ†ä»¥å†…ï¼‰ã‚’ç¢ºèª

#### ã‚¨ãƒ©ãƒ¼ï¼š`Rate limit exceeded`
**åŸå› **ï¼šAPIå‘¼ã³å‡ºã—é »åº¦è¶…é

**è§£æ±º**ï¼š
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆé »åº¦ã‚’100req/åˆ†ä»¥å†…ã«æŠ‘åˆ¶
- æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§ãƒªãƒˆãƒ©ã‚¤å®Ÿè£…
- ãƒãƒƒãƒå‡¦ç†ã‚’æ¤œè¨

### 12.5 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

#### å•é¡Œï¼šãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ãŒé…ã„
**è§£æ±º**ï¼š
1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š
2. ç”»åƒæœ€é©åŒ–ï¼ˆWebPã€é…å»¶ãƒ­ãƒ¼ãƒ‰ï¼‰
3. ã‚³ãƒ¼ãƒ‰åˆ†å‰²ï¼ˆReact.lazyï¼‰
4. APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚­ãƒ£ãƒƒã‚·ãƒ¥

#### å•é¡Œï¼šãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æç”»ãŒé‡ã„
**è§£æ±º**ï¼š
1. `React.memo`ã§ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢
2. å¤§é‡ãƒ‡ãƒ¼ã‚¿ã¯ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆreact-windowï¼‰
3. ã‚°ãƒ©ãƒ•ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è»½é‡åŒ–
4. Webãƒ¯ãƒ¼ã‚«ãƒ¼ã§é‡ã„è¨ˆç®—ã‚’ç§»è­²

---

## ä»˜éŒ²

### A. ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å ´æ‰€ | ç”¨é€” |
|-------------|------|------|
| **README.md** | `/README.md` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ |
| **CLAUDE.md** | `/CLAUDE.md` | Claude Codeè¨­å®š |
| **ãŠçŸ¥ã‚‰ã›å—ä¿¡APIä»•æ§˜æ›¸** | `mcp-shared/docs/VoiceDrive_HR_Announcement_Receive_API_Specification_20251007.md` | Phase 7çµ±åˆ |
| **çµ±è¨ˆé€ä¿¡ä»•æ§˜æ›¸** | `mcp-shared/docs/VoiceDrive_Stats_Webhook_Specification_20251007.md` | Phase 7çµ±åˆ |
| **æœ€çµ‚ç¢ºèªå›ç­”æ›¸** | `mcp-shared/docs/Final_Confirmation_Response_To_Medical_Team_20251007.md` | Phase 7è³ªç–‘å¿œç­” |
| **AIè¦ç´„** | `mcp-shared/docs/AI_SUMMARY.md` | é‡è¦æ›´æ–°è¦ç´„ |

### B. å‚è€ƒãƒªãƒ³ã‚¯

- **Reactå…¬å¼**ï¼šhttps://react.dev/
- **TypeScriptå…¬å¼**ï¼šhttps://www.typescriptlang.org/
- **Prismaå…¬å¼**ï¼šhttps://www.prisma.io/
- **Tailwind CSSå…¬å¼**ï¼šhttps://tailwindcss.com/
- **Expresså…¬å¼**ï¼šhttps://expressjs.com/
- **Viteå…¬å¼**ï¼šhttps://vitejs.dev/

### C. ã‚µãƒãƒ¼ãƒˆ

#### æŠ€è¡“çš„ãªè³ªå•
- Slack: `#phase2-integration`
- MCPã‚µãƒ¼ãƒãƒ¼: `mcp-shared/docs/`

#### ãƒã‚°å ±å‘Š
- GitHub Issuesï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒã‚¸ãƒˆãƒªï¼‰
- ãƒ¡ãƒ¼ãƒ«: voicedrive-dev@example.com

#### Phase 7çµ±åˆã‚µãƒãƒ¼ãƒˆ
- åŒ»ç™‚ãƒãƒ¼ãƒ é€£çµ¡å…ˆï¼šï¼ˆè·å“¡ã‚«ãƒ«ãƒ†ãƒãƒ¼ãƒ Slackï¼‰
- VoiceDriveãƒãƒ¼ãƒ é€£çµ¡å…ˆï¼š`#phase2-integration`

---

**æœ€çµ‚æ›´æ–°ï¼š2025å¹´10æœˆ7æ—¥**
**ä½œæˆè€…ï¼šVoiceDriveé–‹ç™ºãƒãƒ¼ãƒ **

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€VoiceDriveã‚·ã‚¹ãƒ†ãƒ ã®å…¨ä½“åƒã‚’ç†è§£ã™ã‚‹ãŸã‚ã®è©³ç´°èª¬æ˜æ›¸ã§ã™ã€‚
é–‹ç™ºãƒ»é‹ç”¨ãƒ»çµ±åˆä½œæ¥­ã«ã”æ´»ç”¨ãã ã•ã„ã€‚

---
