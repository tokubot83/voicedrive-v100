# Project Organization Developmentãƒšãƒ¼ã‚¸ DBè¦ä»¶åˆ†æ

**æ–‡æ›¸ç•ªå·**: DB-REQ-2025-1013-002
**ä½œæˆæ—¥**: 2025å¹´10æœˆ13æ—¥
**å¯¾è±¡ãƒšãƒ¼ã‚¸**: https://voicedrive-v100.vercel.app/project-org-development
**å‚ç…§æ–‡æ›¸**:
- [PersonalStation_DBè¦ä»¶åˆ†æ_20251008.md](./PersonalStation_DBè¦ä»¶åˆ†æ_20251008.md)
- [ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹å®šç¾©æ›¸_20251008.md](./ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹å®šç¾©æ›¸_20251008.md)
- C:\projects\voicedrive-v100\src\pages\ProjectOrgDevelopmentPage.tsx

---

## ğŸ“‹ åˆ†æã‚µãƒãƒªãƒ¼

### çµè«–
Project Organization Developmentãƒšãƒ¼ã‚¸ã¯**å®Œå…¨ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã§æ§‹æˆ**ã•ã‚Œã¦ãŠã‚Šã€å®Ÿãƒ‡ãƒ¼ã‚¿é€£æºã®ãŸã‚ã«ã¯**å¤§è¦æ¨¡ãªæ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…**ãŒå¿…è¦ã§ã™ã€‚

### ğŸ”´ é‡å¤§ãªä¸è¶³é …ç›®ï¼ˆå³å¯¾å¿œå¿…è¦ï¼‰

1. **éƒ¨é–€é–“ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«ä¸è¶³**
   - éƒ¨é–€ãƒšã‚¢åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°ã€ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢
   - ç¾åœ¨å®Œå…¨ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ48-77è¡Œç›®ï¼‰

2. **ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è‚²æˆè¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«ä¸è¶³**
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼ã®æˆé•·è¨˜éŒ²ã€æˆåŠŸç‡
   - ç¾åœ¨å®Œå…¨ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ80-105è¡Œç›®ï¼‰

3. **ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºè¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«ä¸è¶³**
   - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚¢ã‚¤ãƒ‡ã‚¢ç”Ÿæˆæ•°ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒ–ç‡
   - ç¾åœ¨å®Œå…¨ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ108-137è¡Œç›®ï¼‰

4. **çµ„ç¹”æ–‡åŒ–æŒ‡æ¨™ãƒ†ãƒ¼ãƒ–ãƒ«ä¸è¶³**
   - å‚åŠ ç‡ã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã€ã‚³ãƒ©ãƒœã‚¹ã‚³ã‚¢
   - ç¾åœ¨å®Œå…¨ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼ˆ140-146è¡Œç›®ï¼‰

5. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ä¸è¶³**
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆåŠŸ/å¤±æ•—è¨˜éŒ²ã€ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã€æœŸé–“
   - Projectãƒ†ãƒ¼ãƒ–ãƒ«ã¯å­˜åœ¨ã™ã‚‹ãŒã€çµ„ç¹”é–‹ç™ºåˆ†æã«å¿…è¦ãªè©³ç´°æƒ…å ±ãŒä¸è¶³

### ğŸ¯ ãƒšãƒ¼ã‚¸ã®ç›®çš„ã¨è¡¨ç¤ºå†…å®¹

**ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™**: Level 16+ï¼ˆæˆ¦ç•¥ä¼ç”»ãƒ»çµ±æ‹¬ç®¡ç†éƒ¨é–€å“¡ä»¥ä¸Šï¼‰

**ãƒšãƒ¼ã‚¸æ¦‚è¦**:
çµ„ç¹”é–‹ç™ºã‚¤ãƒ³ã‚µã‚¤ãƒˆãƒšãƒ¼ã‚¸ - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é€šã˜ãŸçµ„ç¹”é–‹ç™ºã®åŠ¹æœæ¸¬å®šã¨åˆ†æ

**4ã¤ã®ã‚¿ãƒ–æ§‹æˆ**:

#### 1. ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ï¼ˆcollaborationï¼‰
- **ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰**ï¼ˆ163-196è¡Œç›®ï¼‰:
  - éƒ¨é–€é–“ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°: 35ä»¶
  - ã‚³ãƒ©ãƒœã‚¹ã‚³ã‚¢: 75/100
  - å‚åŠ ç‡: 72.5%

- **éƒ¨é–€é–“ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ³**ï¼ˆ198-229è¡Œç›®ï¼‰:
  - éƒ¨é–€ãƒšã‚¢åï¼ˆä¾‹: ã€Œçœ‹è­·éƒ¨ Ã— åŒ»ç™‚æŠ€è¡“éƒ¨ã€ï¼‰
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°: 12ä»¶
  - ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢: 85/100
  - ãƒˆãƒ¬ãƒ³ãƒ‰: up/down/stableï¼ˆÂ±15%ï¼‰

- **çµ„ç¹”é–‹ç™ºã‚¤ãƒ³ã‚µã‚¤ãƒˆ**ï¼ˆ232-242è¡Œç›®ï¼‰:
  - AIç”Ÿæˆã¾ãŸã¯æ‰‹å‹•å…¥åŠ›ã®ã‚¤ãƒ³ã‚µã‚¤ãƒˆãƒ†ã‚­ã‚¹ãƒˆ

#### 2. ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚¿ãƒ–ï¼ˆleadershipï¼‰
- **ã‚µãƒãƒªãƒ¼**ï¼ˆ249-266è¡Œç›®ï¼‰:
  - ãƒªãƒ¼ãƒ€ãƒ¼å€™è£œ: 23å
  - å¹³å‡æˆåŠŸç‡: 89%
  - ç·ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: 67ä»¶
  - å¹³å‡ãƒãƒ¼ãƒ è¦æ¨¡: 11.5å

- **ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è‚²æˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°**ï¼ˆ269-320è¡Œç›®ï¼‰:
  - åå‰: å±±ç”° æ¬¡éƒ
  - ç¾åœ¨ã®å½¹è·: å‰¯ä¸»ä»»
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸»å°: 3ä»¶
  - ãƒãƒ¼ãƒ è¦æ¨¡: 12å
  - æˆåŠŸç‡: 92%
  - æˆé•·ã‚¹ã‚³ã‚¢: 88/100

#### 3. ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ï¼ˆinnovationï¼‰
- **ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡æ¨™**ï¼ˆ327-349è¡Œç›®ï¼‰:
  - ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡æ•°: 82/100
  - å¹³å‡å®Ÿè£…ç‡: 25.8%

- **ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡º**ï¼ˆ352-389è¡Œç›®ï¼‰:
  - ã‚«ãƒ†ã‚´ãƒªãƒ¼: æ¥­å‹™åŠ¹ç‡åŒ–
  - ã‚¢ã‚¤ãƒ‡ã‚¢ç”Ÿæˆ: 45ä»¶
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒ–: 12ä»¶
  - å®Ÿè£…ç‡: 26.7%
  - å½±éŸ¿åº¦ã‚¹ã‚³ã‚¢: 78/100

- **ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºãƒˆãƒ¬ãƒ³ãƒ‰**ï¼ˆ392-401è¡Œç›®ï¼‰:
  - ã‚°ãƒ©ãƒ•ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆå®Ÿè£…äºˆå®šï¼‰

#### 4. çµ„ç¹”æ–‡åŒ–ã‚¿ãƒ–ï¼ˆcultureï¼‰
- **çµ„ç¹”æ–‡åŒ–æŒ‡æ¨™**ï¼ˆ407-440è¡Œç›®ï¼‰:
  - å‚åŠ ç‡: 72.5%
  - å¾“æ¥­å“¡ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ: 78/100
  - ã‚³ãƒ©ãƒœã‚¹ã‚³ã‚¢: 75/100

- **çµ„ç¹”æ–‡åŒ–å¤‰é©ã®å…†å€™**ï¼ˆ443-472è¡Œç›®ï¼‰:
  - ã‚ªãƒ¼ãƒ—ãƒ³ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: 82/100 (up)
  - éƒ¨é–€é–“ã®å”åŠ›æ„è­˜: 75/100 (up)
  - ç¶™ç¶šçš„æ”¹å–„ã®å§¿å‹¢: 78/100 (stable)
  - ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®æ„æ¬²: 80/100 (up)
  - çµ„ç¹”ã¸ã®å¸°å±æ„è­˜: 73/100 (up)

- **æˆ¦ç•¥çš„æè¨€**ï¼ˆ475-487è¡Œç›®ï¼‰:
  - ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®æè¨€ï¼ˆ3ã¤ã®ç®‡æ¡æ›¸ãï¼‰

---

## ğŸ” è©³ç´°åˆ†æ

### 1. éƒ¨é–€é–“ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½è·¡ï¼ˆã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ï¼‰

#### è¡¨ç¤ºå†…å®¹ï¼ˆ48-77è¡Œç›®ã€160-243è¡Œç›®ï¼‰
```typescript
interface CollaborationMetric {
  departmentPair: string;         // "çœ‹è­·éƒ¨ Ã— åŒ»ç™‚æŠ€è¡“éƒ¨"
  projectCount: number;           // 12
  collaborationScore: number;     // 85 (0-100)
  trend: 'up' | 'down' | 'stable';
  trendValue: number;             // 15 (%)
}

// ã‚µãƒãƒªãƒ¼
cultureMetrics.crossDepartmentProjects: 35 // éƒ¨é–€é–“ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç·æ•°
cultureMetrics.collaborationScore: 75      // å…¨ä½“ã‚³ãƒ©ãƒœã‚¹ã‚³ã‚¢
cultureMetrics.participationRate: 72.5     // å‚åŠ ç‡ (%)
```

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

| ãƒ‡ãƒ¼ã‚¿é …ç›® | ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»» | ç¾åœ¨ã®çŠ¶æ…‹ | å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ« | çŠ¶æ…‹ |
|-----------|--------------|-----------|--------------|------|
| éƒ¨é–€é–“ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•° | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `DepartmentCollaboration` | ğŸ”´ **è¦è¿½åŠ ** |
| ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `DepartmentCollaboration` | ğŸ”´ **è¦è¿½åŠ ** |
| ãƒˆãƒ¬ãƒ³ãƒ‰è¨ˆç®— | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `CollaborationHistory` | ğŸ”´ **è¦è¿½åŠ ** |
| å‚åŠ ç‡ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `ProjectTeamMember` (ä¸€éƒ¨å­˜åœ¨) | ğŸŸ¡ **è¦æ‹¡å¼µ** |
| éƒ¨é–€ãƒã‚¹ã‚¿ | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | âœ… æä¾›å¯èƒ½ | Employee.department | âœ… OK |

#### è§£æ±ºç­–1: éƒ¨é–€é–“ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: `DepartmentCollaboration`**
```prisma
// VoiceDrive: prisma/schema.prisma
model DepartmentCollaboration {
  id                    String    @id @default(cuid())

  // éƒ¨é–€ãƒšã‚¢è­˜åˆ¥
  department1           String    @map("department_1")
  department2           String    @map("department_2")
  facilityId            String?   @map("facility_id")

  // é›†è¨ˆæœŸé–“
  periodType            String    @map("period_type")  // quarter, year, all
  periodStart           DateTime  @map("period_start")
  periodEnd             DateTime  @map("period_end")

  // ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡æ¨™
  projectCount          Int       @default(0) @map("project_count")
  collaborationScore    Float     @default(0) @map("collaboration_score")  // 0-100

  // ãƒˆãƒ¬ãƒ³ãƒ‰è¨ˆç®—ç”¨
  previousScore         Float?    @map("previous_score")
  trendDirection        String?   @map("trend_direction")  // up, down, stable
  trendValue            Float?    @map("trend_value")      // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆå¤‰åŒ–

  // è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹
  successfulProjects    Int       @default(0) @map("successful_projects")
  activeProjects        Int       @default(0) @map("active_projects")
  completedProjects     Int       @default(0) @map("completed_projects")

  // è¨ˆç®—æ—¥æ™‚
  calculatedAt          DateTime  @default(now()) @map("calculated_at")
  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")

  @@unique([department1, department2, periodType, periodStart])
  @@index([facilityId])
  @@index([periodStart])
  @@index([collaborationScore])
  @@map("department_collaboration")
}
```

**ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯**:
```typescript
// src/services/OrganizationDevelopmentService.ts
export async function calculateCollaborationScore(
  dept1: string,
  dept2: string,
  periodStart: Date,
  periodEnd: Date
): Promise<number> {
  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆåŠŸç‡ã€å‚åŠ äººæ•°ã€æœŸé–“ãªã©ã‹ã‚‰ç®—å‡º
  const projects = await prisma.project.findMany({
    where: {
      createdAt: { gte: periodStart, lte: periodEnd },
      teamMembers: {
        some: {
          OR: [
            { user: { department: dept1 } },
            { user: { department: dept2 } }
          ]
        }
      }
    },
    include: {
      teamMembers: { include: { user: true } }
    }
  });

  let score = 0;

  // ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯:
  // 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°ï¼ˆæœ€å¤§30ç‚¹ï¼‰
  const projectScore = Math.min(projects.length * 2.5, 30);
  score += projectScore;

  // 2. æˆåŠŸç‡ï¼ˆæœ€å¤§40ç‚¹ï¼‰
  const successCount = projects.filter(p => p.status === 'completed' && p.outcome === 'success').length;
  const successRate = projects.length > 0 ? (successCount / projects.length) * 40 : 0;
  score += successRate;

  // 3. å‚åŠ äººæ•°ã®å¤šæ§˜æ€§ï¼ˆæœ€å¤§30ç‚¹ï¼‰
  const dept1Members = new Set();
  const dept2Members = new Set();
  projects.forEach(p => {
    p.teamMembers.forEach(m => {
      if (m.user.department === dept1) dept1Members.add(m.userId);
      if (m.user.department === dept2) dept2Members.add(m.userId);
    });
  });
  const diversityScore = Math.min((dept1Members.size + dept2Members.size) * 1.5, 30);
  score += diversityScore;

  return Math.min(Math.round(score), 100);
}
```

---

### 2. ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è‚²æˆè¿½è·¡ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚¿ãƒ–ï¼‰

#### è¡¨ç¤ºå†…å®¹ï¼ˆ80-105è¡Œç›®ã€246-322è¡Œç›®ï¼‰
```typescript
interface LeadershipDevelopment {
  name: string;              // "å±±ç”° æ¬¡éƒ"
  currentRole: string;       // "å‰¯ä¸»ä»»"
  projectsLed: number;       // 3
  teamSize: number;          // 12
  successRate: number;       // 92 (%)
  growthScore: number;       // 88 (0-100)
}

// ã‚µãƒãƒªãƒ¼
ãƒªãƒ¼ãƒ€ãƒ¼å€™è£œ: 23å
å¹³å‡æˆåŠŸç‡: 89%
ç·ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: 67ä»¶
å¹³å‡ãƒãƒ¼ãƒ è¦æ¨¡: 11.5å
```

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

| ãƒ‡ãƒ¼ã‚¿é …ç›® | ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»» | ç¾åœ¨ã®çŠ¶æ…‹ | å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ« | çŠ¶æ…‹ |
|-----------|--------------|-----------|--------------|------|
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼è¨˜éŒ² | VoiceDrive | âš ï¸ ä¸€éƒ¨å­˜åœ¨ | `Project.leaderId`ï¼ˆæ–°è¦ï¼‰ | ğŸ”´ **è¦è¿½åŠ ** |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæˆåŠŸ/å¤±æ•— | VoiceDrive | âš ï¸ ä¸€éƒ¨å­˜åœ¨ | `Project.outcome`ï¼ˆæ–°è¦ï¼‰ | ğŸ”´ **è¦è¿½åŠ ** |
| ãƒãƒ¼ãƒ ã‚µã‚¤ã‚º | VoiceDrive | âœ… å‹•ä½œä¸­ | `ProjectTeamMember` (æ—¢å­˜) | âœ… OK |
| ãƒªãƒ¼ãƒ€ãƒ¼æˆé•·ã‚¹ã‚³ã‚¢ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `LeadershipDevelopment` | ğŸ”´ **è¦è¿½åŠ ** |
| è·å“¡ã®å½¹è· | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | âœ… æä¾›å¯èƒ½ | Employee.position | âœ… OK |

#### è§£æ±ºç­–2: ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è‚²æˆè¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«

**Projectãƒ†ãƒ¼ãƒ–ãƒ«ã®æ‹¡å¼µ**:
```prisma
model Project {
  id                String    @id @default(cuid())
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

  // ğŸ†• ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è¿½è·¡ç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  leaderId          String?   @map("leader_id")           // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼
  outcome           String?   @map("outcome")             // success, failure, partial
  successScore      Float?    @map("success_score")       // 0-100
  impactLevel       String?   @map("impact_level")        // low, medium, high, critical

  // Relations
  leader            User?     @relation("ProjectLeader", fields: [leaderId], references: [id])
}

// Userãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ 
model User {
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  ledProjects       Project[] @relation("ProjectLeader")  // ğŸ†•
}
```

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: `LeadershipDevelopment`**
```prisma
model LeadershipDevelopment {
  id                    String    @id @default(cuid())
  userId                String    @map("user_id")

  // é›†è¨ˆæœŸé–“
  periodType            String    @map("period_type")  // quarter, year, all
  periodStart           DateTime  @map("period_start")
  periodEnd             DateTime  @map("period_end")

  // ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—æŒ‡æ¨™
  projectsLed           Int       @default(0) @map("projects_led")
  successfulProjects    Int       @default(0) @map("successful_projects")
  failedProjects        Int       @default(0) @map("failed_projects")
  successRate           Float     @default(0) @map("success_rate")      // 0-100%

  // ãƒãƒ¼ãƒ ç®¡ç†æŒ‡æ¨™
  averageTeamSize       Float     @default(0) @map("average_team_size")
  totalTeamMembers      Int       @default(0) @map("total_team_members")
  teamRetentionRate     Float?    @map("team_retention_rate")           // ãƒ¡ãƒ³ãƒãƒ¼å®šç€ç‡

  // æˆé•·ã‚¹ã‚³ã‚¢
  growthScore           Float     @default(0) @map("growth_score")      // 0-100
  previousGrowthScore   Float?    @map("previous_growth_score")
  growthTrend           String?   @map("growth_trend")                  // up, down, stable

  // è©³ç´°ãƒ¡ãƒˆãƒªã‚¯ã‚¹
  collaborationScore    Float?    @map("collaboration_score")           // ã‚³ãƒ©ãƒœèƒ½åŠ›
  innovationScore       Float?    @map("innovation_score")              // é©æ–°æ€§
  problemSolvingScore   Float?    @map("problem_solving_score")         // å•é¡Œè§£æ±ºèƒ½åŠ›
  communicationScore    Float?    @map("communication_score")           // ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›

  // è¨ˆç®—æ—¥æ™‚
  calculatedAt          DateTime  @default(now()) @map("calculated_at")
  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")

  user                  User      @relation(fields: [userId], references: [id])

  @@unique([userId, periodType, periodStart])
  @@index([userId])
  @@index([growthScore])
  @@index([successRate])
  @@map("leadership_development")
}

// Userãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ 
model User {
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  leadershipDevelopment LeadershipDevelopment[] // ğŸ†•
}
```

**æˆé•·ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯**:
```typescript
// src/services/LeadershipService.ts
export async function calculateGrowthScore(
  userId: string,
  periodStart: Date,
  periodEnd: Date
): Promise<number> {
  const projects = await prisma.project.findMany({
    where: {
      leaderId: userId,
      createdAt: { gte: periodStart, lte: periodEnd }
    },
    include: {
      teamMembers: true
    }
  });

  if (projects.length === 0) return 0;

  let score = 0;

  // 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæˆåŠŸç‡ï¼ˆ40ç‚¹ï¼‰
  const successCount = projects.filter(p => p.outcome === 'success').length;
  const successRate = (successCount / projects.length) * 40;
  score += successRate;

  // 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°ï¼ˆ30ç‚¹ï¼‰
  const projectScore = Math.min(projects.length * 5, 30);
  score += projectScore;

  // 3. ãƒãƒ¼ãƒ è¦æ¨¡ï¼ˆ20ç‚¹ï¼‰
  const avgTeamSize = projects.reduce((sum, p) => sum + p.teamMembers.length, 0) / projects.length;
  const teamScore = Math.min(avgTeamSize * 2, 20);
  score += teamScore;

  // 4. æˆé•·ãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ10ç‚¹ï¼‰
  // å‰æœŸã¨æ¯”è¼ƒã—ã¦æ”¹å–„ã—ã¦ã„ã‚‹ã‹
  const previousPeriod = await prisma.leadershipDevelopment.findFirst({
    where: {
      userId,
      periodEnd: { lt: periodStart }
    },
    orderBy: { periodEnd: 'desc' }
  });

  if (previousPeriod && previousPeriod.successRate > 0) {
    const currentSuccessRate = (successCount / projects.length) * 100;
    const improvement = currentSuccessRate - previousPeriod.successRate;
    if (improvement > 10) score += 10;
    else if (improvement > 5) score += 5;
  }

  return Math.min(Math.round(score), 100);
}
```

---

### 3. ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºè¿½è·¡ï¼ˆã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ï¼‰

#### è¡¨ç¤ºå†…å®¹ï¼ˆ108-137è¡Œç›®ã€324-402è¡Œç›®ï¼‰
```typescript
interface InnovationMetric {
  category: string;          // "æ¥­å‹™åŠ¹ç‡åŒ–"
  ideasGenerated: number;    // 45
  projectsLaunched: number;  // 12
  implementationRate: number; // 26.7 (%)
  impactScore: number;       // 78 (0-100)
}

// ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡æ¨™
cultureMetrics.innovationIndex: 82  // 0-100
å¹³å‡å®Ÿè£…ç‡: 25.8%
```

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

| ãƒ‡ãƒ¼ã‚¿é …ç›® | ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»» | ç¾åœ¨ã®çŠ¶æ…‹ | å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ« | çŠ¶æ…‹ |
|-----------|--------------|-----------|--------------|------|
| ã‚¢ã‚¤ãƒ‡ã‚¢ç”Ÿæˆæ•° | VoiceDrive | âš ï¸ ä¸€éƒ¨å­˜åœ¨ | `Post` (type='improvement') | ğŸŸ¡ **è¦æ‹¡å¼µ** |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒ–è¨˜éŒ² | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `IdeaToProject` | ğŸ”´ **è¦è¿½åŠ ** |
| å®Ÿè£…ç‡ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `InnovationMetric` | ğŸ”´ **è¦è¿½åŠ ** |
| å½±éŸ¿åº¦ã‚¹ã‚³ã‚¢ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `Project.impactLevel` | ğŸ”´ **è¦è¿½åŠ ** |
| ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ†é¡ | VoiceDrive | âœ… å‹•ä½œä¸­ | `Post.category` (æ—¢å­˜) | âœ… OK |

#### è§£æ±ºç­–3: ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºè¿½è·¡ãƒ†ãƒ¼ãƒ–ãƒ«

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: `IdeaToProjectLink`**
```prisma
model IdeaToProjectLink {
  id                    String    @id @default(cuid())

  // ã‚¢ã‚¤ãƒ‡ã‚¢ã‚½ãƒ¼ã‚¹ï¼ˆè­°é¡Œãƒ¢ãƒ¼ãƒ‰æŠ•ç¨¿ï¼‰
  postId                String    @map("post_id")
  postCategory          String    @map("post_category")  // improvement, innovation, etc

  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒ–
  projectId             String?   @map("project_id")
  isProjectLaunched     Boolean   @default(false) @map("is_project_launched")
  launchedAt            DateTime? @map("launched_at")

  // å®Ÿè£…çŠ¶æ…‹
  isImplemented         Boolean   @default(false) @map("is_implemented")
  implementedAt         DateTime? @map("implemented_at")
  implementationScore   Float?    @map("implementation_score")  // 0-100

  // å½±éŸ¿åº¦
  impactLevel           String?   @map("impact_level")  // low, medium, high, critical
  impactScore           Float?    @map("impact_score")  // 0-100

  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")

  post                  Post?     @relation(fields: [postId], references: [id])
  project               Project?  @relation(fields: [projectId], references: [id])

  @@unique([postId])
  @@index([postCategory])
  @@index([isProjectLaunched])
  @@index([isImplemented])
  @@map("idea_to_project_link")
}

// Postãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ 
model Post {
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  ideaToProjectLink     IdeaToProjectLink? // ğŸ†•
}

// Projectãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ 
model Project {
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  ideaLinks             IdeaToProjectLink[] // ğŸ†•
}
```

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: `InnovationMetric`**
```prisma
model InnovationMetric {
  id                    String    @id @default(cuid())

  // ã‚«ãƒ†ã‚´ãƒªãƒ¼
  category              String    @map("category")  // improvement, safety, service, workstyle

  // é›†è¨ˆæœŸé–“
  periodType            String    @map("period_type")  // quarter, year, all
  periodStart           DateTime  @map("period_start")
  periodEnd             DateTime  @map("period_end")

  // ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡æ¨™
  ideasGenerated        Int       @default(0) @map("ideas_generated")
  projectsLaunched      Int       @default(0) @map("projects_launched")
  projectsImplemented   Int       @default(0) @map("projects_implemented")
  implementationRate    Float     @default(0) @map("implementation_rate")  // %

  // å½±éŸ¿åº¦ã‚¹ã‚³ã‚¢
  impactScore           Float     @default(0) @map("impact_score")  // 0-100
  averageImpactLevel    String?   @map("average_impact_level")

  // ãƒˆãƒ¬ãƒ³ãƒ‰
  previousImpactScore   Float?    @map("previous_impact_score")
  trendDirection        String?   @map("trend_direction")  // up, down, stable

  // è¨ˆç®—æ—¥æ™‚
  calculatedAt          DateTime  @default(now()) @map("calculated_at")
  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")

  @@unique([category, periodType, periodStart])
  @@index([category])
  @@index([periodStart])
  @@index([impactScore])
  @@map("innovation_metric")
}
```

---

### 4. çµ„ç¹”æ–‡åŒ–æŒ‡æ¨™ï¼ˆçµ„ç¹”æ–‡åŒ–ã‚¿ãƒ–ï¼‰

#### è¡¨ç¤ºå†…å®¹ï¼ˆ140-146è¡Œç›®ã€404-489è¡Œç›®ï¼‰
```typescript
const cultureMetrics = {
  participationRate: 72.5,     // %
  crossDepartmentProjects: 35,
  employeeEngagement: 78,      // 0-100
  innovationIndex: 82,         // 0-100
  collaborationScore: 75       // 0-100
};

// çµ„ç¹”æ–‡åŒ–å¤‰é©ã®å…†å€™ï¼ˆ446-471è¡Œç›®ï¼‰
[
  { label: 'ã‚ªãƒ¼ãƒ—ãƒ³ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³', value: 82, trend: 'up' },
  { label: 'éƒ¨é–€é–“ã®å”åŠ›æ„è­˜', value: 75, trend: 'up' },
  { label: 'ç¶™ç¶šçš„æ”¹å–„ã®å§¿å‹¢', value: 78, trend: 'stable' },
  { label: 'ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®æ„æ¬²', value: 80, trend: 'up' },
  { label: 'çµ„ç¹”ã¸ã®å¸°å±æ„è­˜', value: 73, trend: 'up' }
]
```

#### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

| ãƒ‡ãƒ¼ã‚¿é …ç›® | ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»» | ç¾åœ¨ã®çŠ¶æ…‹ | å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ« | çŠ¶æ…‹ |
|-----------|--------------|-----------|--------------|------|
| å‚åŠ ç‡ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `OrganizationCultureMetric` | ğŸ”´ **è¦è¿½åŠ ** |
| å¾“æ¥­å“¡ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `OrganizationCultureMetric` | ğŸ”´ **è¦è¿½åŠ ** |
| ã‚³ãƒ©ãƒœã‚¹ã‚³ã‚¢ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `DepartmentCollaboration` (å‰è¿°) | ğŸ”´ **è¦è¿½åŠ ** |
| æ–‡åŒ–å¤‰é©ã®å…†å€™ | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `CultureChangeIndicator` | ğŸ”´ **è¦è¿½åŠ ** |
| ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æŒ‡æ•° | VoiceDrive | âŒ ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ | `InnovationMetric` (å‰è¿°) | ğŸ”´ **è¦è¿½åŠ ** |

#### è§£æ±ºç­–4: çµ„ç¹”æ–‡åŒ–æŒ‡æ¨™ãƒ†ãƒ¼ãƒ–ãƒ«

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: `OrganizationCultureMetric`**
```prisma
model OrganizationCultureMetric {
  id                        String    @id @default(cuid())

  // é›†è¨ˆæœŸé–“
  periodType                String    @map("period_type")  // quarter, year, all
  periodStart               DateTime  @map("period_start")
  periodEnd                 DateTime  @map("period_end")

  // æ–½è¨­ãƒ•ã‚£ãƒ«ã‚¿
  facilityId                String?   @map("facility_id")

  // å‚åŠ ç‡æŒ‡æ¨™
  totalEmployees            Int       @default(0) @map("total_employees")
  activeParticipants        Int       @default(0) @map("active_participants")
  participationRate         Float     @default(0) @map("participation_rate")  // %

  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæŒ‡æ¨™
  totalProjects             Int       @default(0) @map("total_projects")
  crossDepartmentProjects   Int       @default(0) @map("cross_department_projects")

  // ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæŒ‡æ¨™
  employeeEngagement        Float     @default(0) @map("employee_engagement")  // 0-100
  collaborationScore        Float     @default(0) @map("collaboration_score")  // 0-100
  innovationIndex           Float     @default(0) @map("innovation_index")     // 0-100

  // ãƒˆãƒ¬ãƒ³ãƒ‰
  previousEngagement        Float?    @map("previous_engagement")
  engagementTrend           String?   @map("engagement_trend")  // up, down, stable

  // è¨ˆç®—æ—¥æ™‚
  calculatedAt              DateTime  @default(now()) @map("calculated_at")
  createdAt                 DateTime  @default(now()) @map("created_at")
  updatedAt                 DateTime  @updatedAt @map("updated_at")

  @@unique([periodType, periodStart, facilityId])
  @@index([facilityId])
  @@index([periodStart])
  @@map("organization_culture_metric")
}
```

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«: `CultureChangeIndicator`**
```prisma
model CultureChangeIndicator {
  id                    String    @id @default(cuid())

  // æŒ‡æ¨™å
  indicatorName         String    @map("indicator_name")
  // ã‚ªãƒ¼ãƒ—ãƒ³ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€éƒ¨é–€é–“ã®å”åŠ›æ„è­˜ã€ç¶™ç¶šçš„æ”¹å–„ã®å§¿å‹¢ã€ãªã©

  indicatorKey          String    @map("indicator_key")
  // open_communication, cross_department_cooperation, continuous_improvement, etc

  // é›†è¨ˆæœŸé–“
  periodType            String    @map("period_type")  // quarter, year, all
  periodStart           DateTime  @map("period_start")
  periodEnd             DateTime  @map("period_end")

  // æŒ‡æ¨™å€¤
  value                 Float     @default(0) @map("value")  // 0-100
  previousValue         Float?    @map("previous_value")
  trend                 String?   @map("trend")  // up, down, stable
  trendValue            Float?    @map("trend_value")  // ãƒã‚¤ãƒ³ãƒˆå¤‰åŒ–

  // è¨ˆç®—æ–¹æ³•ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  calculationMethod     String?   @map("calculation_method")  @db.Text
  dataSource            String?   @map("data_source")

  // è¨ˆç®—æ—¥æ™‚
  calculatedAt          DateTime  @default(now()) @map("calculated_at")
  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")

  @@unique([indicatorKey, periodType, periodStart])
  @@index([indicatorKey])
  @@index([periodStart])
  @@index([value])
  @@map("culture_change_indicator")
}
```

**ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯**:
```typescript
// src/services/CultureMetricsService.ts
export async function calculateEmployeeEngagement(
  periodStart: Date,
  periodEnd: Date,
  facilityId?: string
): Promise<number> {
  // VoiceDriveæ´»å‹•ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è¨ˆç®—

  // 1. ãƒ­ã‚°ã‚¤ãƒ³é »åº¦ï¼ˆ20ç‚¹ï¼‰
  const users = await prisma.user.findMany({
    where: {
      facilityId: facilityId || undefined,
      lastLoginAt: { gte: periodStart, lte: periodEnd }
    }
  });
  const loginScore = Math.min((users.length / 100) * 20, 20);

  // 2. æŠ•ç¨¿ãƒ»æŠ•ç¥¨æ´»å‹•ï¼ˆ30ç‚¹ï¼‰
  const posts = await prisma.post.count({
    where: {
      createdAt: { gte: periodStart, lte: periodEnd },
      author: { facilityId: facilityId || undefined }
    }
  });
  const votes = await prisma.voteHistory.count({
    where: {
      votedAt: { gte: periodStart, lte: periodEnd },
      user: { facilityId: facilityId || undefined }
    }
  });
  const activityScore = Math.min((posts + votes) / 10, 30);

  // 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚åŠ ï¼ˆ30ç‚¹ï¼‰
  const projectParticipants = await prisma.projectTeamMember.count({
    where: {
      joinedAt: { gte: periodStart, lte: periodEnd },
      user: { facilityId: facilityId || undefined }
    }
  });
  const projectScore = Math.min(projectParticipants * 2, 30);

  // 4. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯é€å—ä¿¡ï¼ˆ20ç‚¹ï¼‰
  const feedbacks = await prisma.feedback.count({
    where: {
      createdAt: { gte: periodStart, lte: periodEnd },
      OR: [
        { sender: { facilityId: facilityId || undefined } },
        { receiver: { facilityId: facilityId || undefined } }
      ]
    }
  });
  const feedbackScore = Math.min(feedbacks * 2, 20);

  return Math.min(Math.round(loginScore + activityScore + projectScore + feedbackScore), 100);
}
```

---

## ğŸ“‹ å¿…è¦ãªè¿½åŠ ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§

### VoiceDriveå´ã§è¿½åŠ ãŒå¿…è¦

#### ğŸ”´ å„ªå…ˆåº¦: æœ€é«˜ï¼ˆå³å¯¾å¿œï¼‰

**A. DepartmentCollaborationï¼ˆéƒ¨é–€é–“ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½è·¡ï¼‰**
- ç†ç”±: ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ã®å…¨ãƒ‡ãƒ¼ã‚¿ã«å¿…é ˆ
- å½±éŸ¿: 163-242è¡Œç›®ãŒå®Œå…¨ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿

**B. LeadershipDevelopmentï¼ˆãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è‚²æˆè¿½è·¡ï¼‰**
- ç†ç”±: ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚¿ãƒ–ã®å…¨ãƒ‡ãƒ¼ã‚¿ã«å¿…é ˆ
- å½±éŸ¿: 246-322è¡Œç›®ãŒå®Œå…¨ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿

**C. InnovationMetricï¼ˆã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºæŒ‡æ¨™ï¼‰**
- ç†ç”±: ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ã®å…¨ãƒ‡ãƒ¼ã‚¿ã«å¿…é ˆ
- å½±éŸ¿: 324-402è¡Œç›®ãŒå®Œå…¨ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿

**D. OrganizationCultureMetricï¼ˆçµ„ç¹”æ–‡åŒ–æŒ‡æ¨™ï¼‰**
- ç†ç”±: çµ„ç¹”æ–‡åŒ–ã‚¿ãƒ–ã®ã‚µãƒãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã«å¿…é ˆ
- å½±éŸ¿: 404-440è¡Œç›®ãŒå®Œå…¨ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿

**E. CultureChangeIndicatorï¼ˆæ–‡åŒ–å¤‰é©æŒ‡æ¨™ï¼‰**
- ç†ç”±: çµ„ç¹”æ–‡åŒ–ã‚¿ãƒ–ã®è©³ç´°æŒ‡æ¨™ã«å¿…é ˆ
- å½±éŸ¿: 443-472è¡Œç›®ãŒå®Œå…¨ã«ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿

**F. IdeaToProjectLinkï¼ˆã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒªãƒ³ã‚¯ï¼‰**
- ç†ç”±: ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºã®å®Ÿè£…ç‡è¨ˆç®—ã«å¿…é ˆ
- å½±éŸ¿: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŒ–ç‡ã€å®Ÿè£…ç‡ã®æ­£ç¢ºãªè¿½è·¡

#### ğŸ”´ å„ªå…ˆåº¦: é«˜ï¼ˆæ¨å¥¨ï¼‰

**G. Projectãƒ†ãƒ¼ãƒ–ãƒ«ã®æ‹¡å¼µ**
```prisma
model Project {
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

  // ğŸ†• è¿½åŠ å¿…è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  leaderId          String?   @map("leader_id")           // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ€ãƒ¼
  outcome           String?   @map("outcome")             // success, failure, partial
  successScore      Float?    @map("success_score")       // 0-100
  impactLevel       String?   @map("impact_level")        // low, medium, high, critical
  impactScore       Float?    @map("impact_score")        // 0-100
}
```

---

## ğŸ¯ å®Ÿè£…å„ªå…ˆé †ä½

### Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½ã®å¼·åŒ–ï¼ˆ3-5æ—¥ï¼‰

**ç›®æ¨™**: Projectãƒ†ãƒ¼ãƒ–ãƒ«ã«å¿…è¦ãªæƒ…å ±ã‚’è¿½åŠ 

1. ğŸ”´ **Projectãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µ**
   - `leaderId`, `outcome`, `successScore`, `impactLevel`, `impactScore`è¿½åŠ 
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

2. ğŸ”´ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆUIä¿®æ­£**
   - ãƒªãƒ¼ãƒ€ãƒ¼é¸æŠæ©Ÿèƒ½è¿½åŠ 
   - å½±éŸ¿åº¦ãƒ¬ãƒ™ãƒ«è¨­å®šæ©Ÿèƒ½è¿½åŠ 

3. ğŸ”´ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†å‡¦ç†ä¿®æ­£**
   - æˆåŠŸ/å¤±æ•—ã®è¨˜éŒ²æ©Ÿèƒ½è¿½åŠ 
   - æˆåŠŸã‚¹ã‚³ã‚¢å…¥åŠ›UIè¿½åŠ 

**ã“ã®Phaseã§å¯èƒ½ã«ãªã‚‹ã“ã¨**:
- ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—è‚²æˆè¿½è·¡ã®åŸºç¤ãƒ‡ãƒ¼ã‚¿åé›†
- ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å½±éŸ¿åº¦ã®æ¸¬å®š

---

### Phase 2: çµ„ç¹”é–‹ç™ºæŒ‡æ¨™ã®è¨ˆç®—ï¼ˆ5-7æ—¥ï¼‰

**ç›®æ¨™**: æ—¥æ¬¡ãƒãƒƒãƒã§çµ„ç¹”é–‹ç™ºæŒ‡æ¨™ã‚’è¨ˆç®—

1. ğŸ”´ **æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ **
   - `DepartmentCollaboration`
   - `LeadershipDevelopment`
   - `InnovationMetric`
   - `OrganizationCultureMetric`
   - `CultureChangeIndicator`
   - `IdeaToProjectLink`

2. ğŸ”´ **è¨ˆç®—ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…**
   ```typescript
   // src/services/OrganizationDevelopmentService.ts
   export async function calculateAllMetrics(periodStart: Date, periodEnd: Date) {
     await calculateDepartmentCollaboration(periodStart, periodEnd);
     await calculateLeadershipDevelopment(periodStart, periodEnd);
     await calculateInnovationMetrics(periodStart, periodEnd);
     await calculateCultureMetrics(periodStart, periodEnd);
     await calculateCultureChangeIndicators(periodStart, periodEnd);
   }
   ```

3. ğŸ”´ **æ—¥æ¬¡ãƒãƒƒãƒå®Ÿè£…**
   ```typescript
   // src/jobs/calculateOrganizationMetrics.ts
   export async function dailyOrganizationMetricsCalculation() {
     const today = new Date();
     const quarterStart = getQuarterStart(today);
     const yearStart = getYearStart(today);

     // å››åŠæœŸé›†è¨ˆ
     await calculateAllMetrics(quarterStart, today);

     // å¹´é–“é›†è¨ˆ
     await calculateAllMetrics(yearStart, today);

     // å…¨æœŸé–“é›†è¨ˆ
     await calculateAllMetrics(new Date('2025-01-01'), today);
   }
   ```

**ã“ã®Phaseã§å¯èƒ½ã«ãªã‚‹ã“ã¨**:
- 4ã¤ã®ã‚¿ãƒ–å…¨ã¦ã§å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æï¼ˆå‰æœŸæ¯”è¼ƒï¼‰

---

### Phase 3: ProjectOrgDevelopmentãƒšãƒ¼ã‚¸ã®å®Ÿè£…ä¿®æ­£ï¼ˆ2-3æ—¥ï¼‰

**ç›®æ¨™**: ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å®Ÿãƒ‡ãƒ¼ã‚¿ã«ç½®ãæ›ãˆ

1. ğŸ”´ **APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…**
   ```typescript
   // src/api/routes/organization-development.routes.ts

   // GET /api/organization-development/collaboration
   router.get('/collaboration', async (req, res) => {
     const { period } = req.query;
     const data = await prisma.departmentCollaboration.findMany({
       where: { periodType: period }
     });
     res.json(data);
   });

   // GET /api/organization-development/leadership
   router.get('/leadership', async (req, res) => {
     const { period } = req.query;
     const data = await prisma.leadershipDevelopment.findMany({
       where: { periodType: period },
       include: { user: true }
     });
     res.json(data);
   });

   // GET /api/organization-development/innovation
   router.get('/innovation', async (req, res) => {
     const { period } = req.query;
     const data = await prisma.innovationMetric.findMany({
       where: { periodType: period }
     });
     res.json(data);
   });

   // GET /api/organization-development/culture
   router.get('/culture', async (req, res) => {
     const { period } = req.query;
     const metrics = await prisma.organizationCultureMetric.findFirst({
       where: { periodType: period }
     });
     const indicators = await prisma.cultureChangeIndicator.findMany({
       where: { periodType: period }
     });
     res.json({ metrics, indicators });
   });
   ```

2. ğŸ”´ **Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿®æ­£**
   ```typescript
   // src/pages/ProjectOrgDevelopmentPage.tsx

   // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ï¼ˆ48-146è¡Œç›®ï¼‰
   // APIå‘¼ã³å‡ºã—ã«ç½®ãæ›ãˆ

   const [collaborationData, setCollaborationData] = useState<CollaborationMetric[]>([]);
   const [leadershipData, setLeadershipData] = useState<LeadershipDevelopment[]>([]);
   const [innovationData, setInnovationData] = useState<InnovationMetric[]>([]);
   const [cultureMetrics, setCultureMetrics] = useState<any>(null);

   useEffect(() => {
     async function fetchData() {
       const collab = await fetch(`/api/organization-development/collaboration?period=${selectedPeriod}`);
       setCollaborationData(await collab.json());

       const leader = await fetch(`/api/organization-development/leadership?period=${selectedPeriod}`);
       setLeadershipData(await leader.json());

       const innovation = await fetch(`/api/organization-development/innovation?period=${selectedPeriod}`);
       setInnovationData(await innovation.json());

       const culture = await fetch(`/api/organization-development/culture?period=${selectedPeriod}`);
       setCultureMetrics(await culture.json());
     }

     fetchData();
   }, [selectedPeriod]);
   ```

**ã“ã®Phaseã§å®Œäº†ã™ã‚‹æ©Ÿèƒ½**:
- âœ… å…¨ã‚¿ãƒ–ã§å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- âœ… æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆå››åŠæœŸ/å¹´é–“/å…¨æœŸé–“ï¼‰å‹•ä½œ
- âœ… ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤ºï¼ˆå‰æœŸæ¯”è¼ƒï¼‰

---

### Phase 4: é«˜åº¦ãªåˆ†ææ©Ÿèƒ½ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€3-5æ—¥ï¼‰

**ç›®æ¨™**: AIç”Ÿæˆã‚¤ãƒ³ã‚µã‚¤ãƒˆã¨ãƒˆãƒ¬ãƒ³ãƒ‰ã‚°ãƒ©ãƒ•å®Ÿè£…

1. ğŸŸ¡ **AIç”Ÿæˆã‚¤ãƒ³ã‚µã‚¤ãƒˆ**
   - çµ„ç¹”é–‹ç™ºã‚¤ãƒ³ã‚µã‚¤ãƒˆï¼ˆ232-242è¡Œç›®ï¼‰ã‚’AIç”Ÿæˆã«å¤‰æ›´
   - LLMï¼ˆClaude or GPTï¼‰ã§åˆ†æçµæœã‹ã‚‰è‡ªå‹•ç”Ÿæˆ

2. ğŸŸ¡ **ãƒˆãƒ¬ãƒ³ãƒ‰ã‚°ãƒ©ãƒ•å®Ÿè£…**
   - ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‰µå‡ºãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ392-401è¡Œç›®ï¼‰
   - Rechartsä½¿ç”¨ã€æœˆæ¬¡ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º

3. ğŸŸ¡ **ãƒ‰ãƒªãƒ«ãƒ€ã‚¦ãƒ³æ©Ÿèƒ½**
   - éƒ¨é–€ãƒšã‚¢ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°è¡¨ç¤º
   - ãƒªãƒ¼ãƒ€ãƒ¼åã‚¯ãƒªãƒƒã‚¯ã§å€‹åˆ¥åˆ†æè¡¨ç¤º

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

### ç¾åœ¨ã®çŠ¶æ…‹ï¼ˆPhase 0ï¼‰
```
ProjectOrgDevelopmentPage
  â†“ è¡¨ç¤º
ã™ã¹ã¦ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ (48-146è¡Œç›®)
  - collaborationData (ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰)
  - leadershipData (ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰)
  - innovationData (ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰)
  - cultureMetrics (ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰)
```

### Phase 1å®Œäº†å¾Œ
```
ProjectOrgDevelopmentPage
  â†“ è¡¨ç¤º
ã™ã¹ã¦ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ (å¤‰ã‚ã‚‰ãš)
  â†“
BUT: Projectãƒ†ãƒ¼ãƒ–ãƒ«ã«leaderId, outcome, impactLevelè¿½åŠ 
      â†’ å°†æ¥ã®è¨ˆç®—æº–å‚™å®Œäº†
```

### Phase 2å®Œäº†å¾Œ
```
æ—¥æ¬¡ãƒãƒƒãƒ (æ·±å¤œ2:00)
  â†“ è¨ˆç®—
OrganizationDevelopmentService
  â”œâ”€ calculateDepartmentCollaboration()
  â”œâ”€ calculateLeadershipDevelopment()
  â”œâ”€ calculateInnovationMetrics()
  â”œâ”€ calculateCultureMetrics()
  â””â”€ calculateCultureChangeIndicators()
  â†“ ä¿å­˜
DepartmentCollaboration, LeadershipDevelopment, InnovationMetric,
OrganizationCultureMetric, CultureChangeIndicator ãƒ†ãƒ¼ãƒ–ãƒ«
```

### Phase 3å®Œäº†å¾Œï¼ˆæœ€çµ‚å½¢æ…‹ï¼‰
```
ProjectOrgDevelopmentPage
  â†“ APIå‘¼ã³å‡ºã—
GET /api/organization-development/collaboration?period=quarter
GET /api/organization-development/leadership?period=quarter
GET /api/organization-development/innovation?period=quarter
GET /api/organization-development/culture?period=quarter
  â†“ ãƒ‡ãƒ¼ã‚¿å–å¾—
DepartmentCollaboration, LeadershipDevelopment, InnovationMetric,
OrganizationCultureMetric, CultureChangeIndicator ãƒ†ãƒ¼ãƒ–ãƒ«
  â†“ è¡¨ç¤º
å®Ÿãƒ‡ãƒ¼ã‚¿ã§ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã€ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã€çµ„ç¹”æ–‡åŒ–ã‚¿ãƒ–ã‚’è¡¨ç¤º
```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### VoiceDriveå´ã®å®Ÿè£…

#### Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†å¼·åŒ–
- [ ] Projectãƒ†ãƒ¼ãƒ–ãƒ«ã« `leaderId`, `outcome`, `successScore`, `impactLevel`, `impactScore`è¿½åŠ 
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆUIã«ãƒªãƒ¼ãƒ€ãƒ¼é¸æŠè¿½åŠ 
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†å‡¦ç†ã«æˆåŠŸ/å¤±æ•—è¨˜éŒ²è¿½åŠ 

#### Phase 2: çµ„ç¹”é–‹ç™ºæŒ‡æ¨™è¨ˆç®—
- [ ] `DepartmentCollaboration`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
- [ ] `LeadershipDevelopment`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
- [ ] `InnovationMetric`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
- [ ] `OrganizationCultureMetric`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
- [ ] `CultureChangeIndicator`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
- [ ] `IdeaToProjectLink`ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [ ] OrganizationDevelopmentServiceå®Ÿè£…
- [ ] LeadershipServiceå®Ÿè£…
- [ ] CultureMetricsServiceå®Ÿè£…
- [ ] æ—¥æ¬¡ãƒãƒƒãƒå®Ÿè£…

#### Phase 3: ãƒšãƒ¼ã‚¸å®Ÿè£…ä¿®æ­£
- [ ] `/api/organization-development/*` APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
- [ ] ProjectOrgDevelopmentPageã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
- [ ] APIå‘¼ã³å‡ºã—å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹è¡¨ç¤ºå®Ÿè£…

#### Phase 4: é«˜åº¦ãªåˆ†æï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] AIç”Ÿæˆã‚¤ãƒ³ã‚µã‚¤ãƒˆå®Ÿè£…
- [ ] ãƒˆãƒ¬ãƒ³ãƒ‰ã‚°ãƒ©ãƒ•å®Ÿè£…ï¼ˆRechartsï¼‰
- [ ] ãƒ‰ãƒªãƒ«ãƒ€ã‚¦ãƒ³æ©Ÿèƒ½å®Ÿè£…

### ãƒ†ã‚¹ãƒˆ
- [ ] ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢è¨ˆç®—ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
- [ ] æˆé•·ã‚¹ã‚³ã‚¢è¨ˆç®—ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆè¨ˆç®—ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
- [ ] æ—¥æ¬¡ãƒãƒƒãƒã®çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
- [ ] E2Eãƒ†ã‚¹ãƒˆï¼ˆProjectOrgDevelopmentå…¨æ©Ÿèƒ½ï¼‰

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [PersonalStation_DBè¦ä»¶åˆ†æ_20251008.md](./PersonalStation_DBè¦ä»¶åˆ†æ_20251008.md)
- [ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹å®šç¾©æ›¸_20251008.md](./ãƒ‡ãƒ¼ã‚¿ç®¡ç†è²¬ä»»åˆ†ç•Œç‚¹å®šç¾©æ›¸_20251008.md)
- [å…±é€šDBæ§‹ç¯‰å¾Œçµ±åˆä½œæ¥­å†é–‹è¨ˆç”»æ›¸_20251008.md](./å…±é€šDBæ§‹ç¯‰å¾Œçµ±åˆä½œæ¥­å†é–‹è¨ˆç”»æ›¸_20251008.md)
- [MySQL_Migration_Guide.md](../../docs/MySQL_Migration_Guide.md)

---

**æ–‡æ›¸çµ‚äº†**

æœ€çµ‚æ›´æ–°: 2025å¹´10æœˆ13æ—¥
ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0
æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼: Phase 1å®Ÿè£…å¾Œ
