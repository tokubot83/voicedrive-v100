# キャリアコース変更申請 VoiceDriveチームへの連絡

**文書番号**: MED-INFO-2025-1021-003
**作成日**: 2025年10月21日
**送信者**: 医療システムチーム
**宛先**: VoiceDriveチーム
**件名**: Phase 5-4実装スケジュール確定のご連絡

---

## 📋 連絡事項サマリー

VoiceDriveチームからいただいた追加質問への回答と、Phase 5-4実装スケジュールの確定についてご連絡します。

### 重要な変更点

**Mock API提供時期の変更**:
- ❌ 旧: 即座に利用可能
- ✅ 新: **2025年10月29日（火）9:00提供開始**

理由: Mock APIではなく、実DB接続済みの本番APIを提供するため、Phase 5-4a（DB構築）完了後の提供となります。

---

## 1. 追加質問への回答完了

以下のドキュメントを作成しました：

**ドキュメント**: `mcp-shared/docs/career-course-change_追加質問への回答_20251021.md`

### 回答内容

| 質問 | 回答 |
|------|------|
| **API認証方式** | Supabase JWT認証（VoiceDrive既存認証をそのまま使用可能） |
| **Phase 5-4スケジュール** | 2025年10月28日～11月8日（実働7日） |
| **API提供** | 2025年10月29日（火）9:00提供開始（実DB接続済み） |

### VoiceDrive側との合意事項

1. ✅ **UI実装**: VoiceDrive側が提供
2. ✅ **テーブル名**: 医療システム側の命名規則を採用（`course_definitions`、`staff_career_courses`、`course_change_requests`）
3. ✅ **ファイルストレージ**: Supabase Storage使用

---

## 2. Phase 5-4実装スケジュール（確定版）

### 全体スケジュール

**実装期間**: 2025年10月28日（月）～ 11月8日（金）（実働7日）

| フェーズ | 期間 | 完了予定日 | VoiceDrive参加 |
|---------|------|-----------|---------------|
| **Phase 5-4a**: DB構築 | 10/28-10/29 | 10/29（火）17:00 | ❌ 不要 |
| **Phase 5-4b**: API実装 | 10/30-11/1 | 11/1（金）17:00 | ❌ 不要 |
| **Phase 5-4c**: ファイル処理 | 11/4-11/5 | 11/5（火）17:00 | ❌ 不要 |
| **Phase 5-4d**: 統合テスト | 11/6-11/8 | 11/8（金）17:00 | ✅ **参加必須** |

### VoiceDrive側の参加が必要な日程

#### 🔴 必須参加: 11/6（水）9:00 - 統合テストキックオフ

**日時**: 2025年11月6日（水）9:00～10:00

**参加者**:
- VoiceDriveチーム: プロジェクトリード、技術担当
- 医療システムチーム: API担当、テスト担当

**アジェンダ**:
1. API仕様の最終確認
2. 認証フロー確認
3. エラーハンドリング確認
4. テストシナリオ共有

**準備事項**:
- VoiceDrive側の開発環境準備完了
- `ChangeRequestPage.tsx` のAPI接続準備完了
- 認証フロー（Supabase JWT）の実装確認

#### 🔴 必須参加: 11/7（木）終日 - 統合テスト実施

**日時**: 2025年11月7日（木）9:00～17:00

**VoiceDrive側の作業**:
1. `ChangeRequestPage.tsx` のAPI接続実装
2. エラーハンドリングの実装
3. ローディング状態の実装
4. バグ報告・修正依頼

**テスト内容**:
- コース変更申請フロー（正常系）
- ファイルアップロード
- バリデーションエラー
- 認証エラー
- ネットワークエラー

#### 🔴 必須参加: 11/8（金）15:00 - 統合テスト完了報告

**日時**: 2025年11月8日（金）15:00～16:00

**成果物**:
- 統合テスト報告書
- 既知の問題リスト
- リリース判定

---

## 3. API提供開始日のご案内

### 提供開始日時

**2025年10月29日（火）9:00**

### 提供内容

**実DB接続済みAPI**（Mock APIではありません）

#### エンドポイント

1. `GET /api/career-courses/definitions` - コース定義一覧
2. `GET /api/my-page` - マイページ情報（careerCourse含む）
3. `POST /api/career-course/change-request` - コース変更申請
4. `GET /api/career-course/my-requests` - 申請履歴取得

#### ベースURL

- **開発環境**: `http://localhost:3000`（医療システム開発サーバー）
- **Dev環境**: `https://medical-dev.example.com`（10/29に提供予定）

#### 認証

- **Supabase JWT認証**が必須
- `Authorization: Bearer {token}` ヘッダーが必要
- 認証なしではアクセス不可

### Mock APIを提供しない理由

1. **実装効率**: DB構築と同時にAPIを実装する方が効率的
2. **品質向上**: 最初から実DB接続のAPIを提供することで、手戻りを防止
3. **スケジュール**: 10/29提供開始で、VoiceDrive側の開発スケジュールに影響なし

---

## 4. VoiceDrive側への依頼事項

### 即時対応（10/23までに回答希望）

#### 依頼-1: スケジュール確認

以下のスケジュールでVoiceDrive側の都合は問題ありませんか？

| 日付 | 内容 | 参加必須 |
|------|------|---------|
| 10/29（火） | API提供開始 | - |
| 11/6（水）9:00 | 統合テストキックオフ | ✅ 必須 |
| 11/7（木）終日 | 統合テスト実施 | ✅ 必須 |
| 11/8（金）15:00 | 統合テスト完了報告 | ✅ 必須 |

**調整が必要な場合**: 10/23（水）までにご連絡ください

#### 依頼-2: 開発環境準備確認

10/29のAPI提供開始までに、以下の準備をお願いします：

1. **型定義の更新**
   - `src/types/career-course.ts` の更新
   - テーブル名を医療システム側の命名規則に統一
   - 推定工数: 1日以内

2. **Supabase Storage設定確認**
   - バケット `career-course-attachments` の作成確認
   - RLS設定の確認
   - 推定工数: 0.5日

3. **認証フロー確認**
   - Supabase JWT認証の実装確認
   - `Authorization` ヘッダーの付与確認
   - 推定工数: 0.5日

**質問・不明点**: Slack #phase5-career-course へご連絡ください

---

## 5. 参照ドキュメント

### 医療システム側

1. [career-course-change_医療システム確認結果_20251021.md](career-course-change_医療システム確認結果_20251021.md)
2. [career-course-change_追加質問への回答_20251021.md](career-course-change_追加質問への回答_20251021.md)
3. [共通DB構築後_作業再開指示書_20250928.md](../../docs/共通DB構築後_作業再開指示書_20250928.md)（6.7.12節）

### VoiceDrive側（参照）

1. キャリアコース変更申請 VoiceDrive回答（VD-RES-2025-1021-001）
2. change-request暫定マスターリスト

---

## 6. 連絡先

### 医療システムチーム

- **プロジェクトリード**: [担当者名]
- **API担当**: [担当者名]
- **Slack**: #phase5-career-course

### 質問・確認

以下の方法でご連絡ください：

1. **緊急**: Slack DM（医療システムAPI担当）
2. **通常**: Slack #phase5-career-course
3. **正式**: 本ドキュメントへの返信（mcp-shared/docs/）

---

## 7. 次のステップ

### 医療システム側

| 日付 | 作業内容 | 状態 |
|------|---------|------|
| 10/21（月） | 本連絡送付 | ✅ 完了 |
| 10/22（火） | Dev環境URL提供 | ⏳ 予定 |
| 10/24（木） | OpenAPI仕様書作成 | ⏳ 予定 |
| 10/28（月） | Phase 5-4a開始 | ⏳ 予定 |

### VoiceDrive側（依頼事項）

| 日付 | 作業内容 | 期限 |
|------|---------|------|
| 10/23（水） | スケジュール確認回答 | 🔴 回答希望 |
| 10/29（火）まで | 型定義更新 | - |
| 10/29（火）まで | Supabase Storage設定 | - |
| 11/6（水）9:00 | 統合テストキックオフ参加 | ✅ 必須 |

---

## 8. まとめ

| 項目 | 内容 |
|------|------|
| **API提供開始** | 2025年10月29日（火）9:00 |
| **提供形式** | 実DB接続済みAPI（認証必須） |
| **統合テスト** | 11/6-11/8（VoiceDrive参加必須） |
| **回答期限** | 2025年10月23日（水） |

医療システムチームからの追加質問への迅速な回答に感謝いたします。
上記スケジュールとAPI提供方針で実装を進めさせていただきます。

ご不明な点がございましたら、お気軽にご連絡ください。

引き続きよろしくお願いいたします。

---

**医療システムチーム一同**

2025年10月21日
