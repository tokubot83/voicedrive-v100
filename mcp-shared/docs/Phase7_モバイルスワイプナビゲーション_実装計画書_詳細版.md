# Phase 7: ãƒ¢ãƒã‚¤ãƒ«ã‚¹ãƒ¯ã‚¤ãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ å®Ÿè£…è¨ˆç”»æ›¸ï¼ˆè©³ç´°ç‰ˆï¼‰

**ä½œæˆæ—¥**: 2025å¹´10æœˆ20æ—¥
**å¯¾è±¡**: VoiceDrive Phase 7 - ãƒ¢ãƒã‚¤ãƒ«UXå¼·åŒ–
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æœªç€æ‰‹

---

## ğŸ“‹ æ¦‚è¦

ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§ã®é–²è¦§æ™‚ã«ã€**æ¨ªã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚¿ãƒ–é–“ã‚’ç§»å‹•**ã§ãã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚
Xï¼ˆæ—§Twitterï¼‰ã€Instagramç­‰ã®ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã¨åŒæ§˜ã®ç›´æ„Ÿçš„ãªæ“ä½œã‚’æä¾›ã—ã¾ã™ã€‚

---

## ğŸ¯ ç›®çš„

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š

1. **ç›´æ„Ÿçš„ãªæ“ä½œ**
   - ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œã¯ãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é¦´æŸ“ã¿æ·±ã„
   - ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒãªãã€ç‰‡æ‰‹æ“ä½œãŒå®¹æ˜“

2. **æ“ä½œåŠ¹ç‡ã®å‘ä¸Š**
   - ç”»é¢ä¸Šéƒ¨ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã«æŒ‡ã‚’ä¼¸ã°ã™å‹•ä½œã‚’å‰Šæ¸›
   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é ˜åŸŸã§ã®ã‚¹ãƒ¯ã‚¤ãƒ—ã§ç›´æ¥ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ

3. **åŒ»ç™‚ç¾å ´ã¸ã®æœ€é©åŒ–**
   - ç«‹ã¡ä»•äº‹ä¸­ã®çœ‹è­·å¸«ãŒç‰‡æ‰‹ã§ç´ æ—©ãæ“ä½œå¯èƒ½
   - å¿™ã—ã„ç¾å ´ã§ã®æ™‚çŸ­åŠ¹æœ

---

## ğŸ“Š å®Ÿè£…ç¯„å›²

### Phase 7-A: é¢è«‡ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ€å„ªå…ˆï¼‰
**è¦‹ç©ã‚‚ã‚Š**: 2æ—¥

**å¯¾è±¡ãƒšãƒ¼ã‚¸**: `src/pages/InterviewStation.tsx`

**ã‚¿ãƒ–æ§‹æˆ**:
1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
2. å±¥æ­´
3. äºˆç´„

**ç†ç”±**:
- ãƒ¢ãƒã‚¤ãƒ«ä½¿ç”¨ç‡ãŒæœ€ã‚‚é«˜ã„
- 3ã¤ã®ã‚¿ãƒ–ã§åŠ¹æœã‚’æœ€å¤§åŒ–
- ä»–ãƒšãƒ¼ã‚¸ã®å®Ÿè£…ã®åŸºç¤ã¨ãªã‚‹

**å®Ÿè£…å†…å®¹**:
1. react-swipeableãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. useSwipeableTabsã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆ
3. InterviewStationã¸ã®é©ç”¨
4. ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ãƒ†ã‚¹ãƒˆ

---

### Phase 7-B: ä»–ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±•é–‹
**è¦‹ç©ã‚‚ã‚Š**: 3æ—¥

**å¯¾è±¡ãƒšãƒ¼ã‚¸**:
1. `src/pages/EvaluationStation.tsx` - è©•ä¾¡ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
2. `src/pages/HealthStation.tsx` - å¥åº·ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
3. `src/pages/CareerSelectionStationPage.tsx` - ã‚­ãƒ£ãƒªã‚¢é¸æŠã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
4. `src/pages/PersonalStation.tsx` - ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
5. `src/pages/HomePage.tsx` - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆãƒ›ãƒ¼ãƒ ï¼‰

**å®Ÿè£…æ–¹é‡**:
- Phase 7-Aã§ä½œæˆã—ãŸå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å†åˆ©ç”¨
- å„ãƒšãƒ¼ã‚¸ã®æ—¢å­˜ã‚¿ãƒ–æ§‹é€ ã«é©ç”¨

**å®Ÿè£…å†…å®¹**:
1. SwipeableTabContainerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
2. å„ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒšãƒ¼ã‚¸ã¸ã®é©ç”¨
3. ä¸€æ‹¬ãƒ†ã‚¹ãƒˆ

---

### Phase 7-C: UXæ”¹å–„
**è¦‹ç©ã‚‚ã‚Š**: 2æ—¥

**è¿½åŠ æ©Ÿèƒ½**:

1. **ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼**
   - ã‚¿ãƒ–ä¸‹éƒ¨ã«é€²æ—ãƒ‰ãƒƒãƒˆè¡¨ç¤º
   - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

2. **ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–**
   - ã‚¹ãƒ ãƒ¼ã‚ºãªãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³
   - ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º

3. **è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³**
   - ã‚¹ãƒ¯ã‚¤ãƒ—æ„Ÿåº¦èª¿æ•´ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   - ã‚¹ãƒ¯ã‚¤ãƒ—ç„¡åŠ¹åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼‰

---

## ğŸ”§ æŠ€è¡“è¨­è¨ˆ

### ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

**react-swipeable**: è»½é‡ã§è¨­å®šãŒç°¡å˜

```bash
npm install react-swipeable
```

**ç‰¹å¾´**:
- âœ… TypeScriptå¯¾å¿œ
- âœ… è»½é‡ï¼ˆ~5KBï¼‰
- âœ… ã‚¿ãƒƒãƒã¨ãƒã‚¦ã‚¹ã®ä¸¡å¯¾å¿œ
- âœ… æŸ”è»Ÿãªè¨­å®šï¼ˆé–¾å€¤ã€æ–¹å‘ã€é€Ÿåº¦ï¼‰

---

## ğŸ“ è©³ç´°å®Ÿè£…å†…å®¹

### Phase 7-A: é¢è«‡ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ2æ—¥ï¼‰

#### Step 1: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ10åˆ†ï¼‰

```bash
npm install react-swipeable
npm install --save-dev @types/react-swipeable
```

**ç¢ºèªäº‹é …**:
- [ ] package.jsonã«è¿½åŠ ã•ã‚ŒãŸã‹ç¢ºèª
- [ ] TypeScriptå‹å®šç¾©ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‹ç¢ºèª

---

#### Step 2: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆï¼ˆ3æ™‚é–“ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/hooks/useSwipeableTabs.ts`ï¼ˆæ–°è¦ä½œæˆï¼‰

**å®Ÿè£…å†…å®¹**:
```typescript
import { useState, useCallback } from 'react';
import { useSwipeable, SwipeableHandlers } from 'react-swipeable';

interface UseSwipeableTabsOptions<T extends string | number> {
  activeTab: T;
  tabs: T[];
  onTabChange: (tab: T) => void;
  enableOnDesktop?: boolean; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false
  swipeThreshold?: number;   // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 50
  swipeVelocity?: number;    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.3
}

interface UseSwipeableTabsReturn {
  handlers: SwipeableHandlers;
  swipeDirection: 'left' | 'right' | null;
  isTransitioning: boolean;
  isMobile: boolean;
}

/**
 * ã‚¿ãƒ–ã‚¹ãƒ¯ã‚¤ãƒ—æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
 */
export function useSwipeableTabs<T extends string | number>({
  activeTab,
  tabs,
  onTabChange,
  enableOnDesktop = false,
  swipeThreshold = 50,
  swipeVelocity = 0.3
}: UseSwipeableTabsOptions<T>): UseSwipeableTabsReturn {
  const [swipeDirection, setSwipeDirection] = useState<'left' | 'right' | null>(null);
  const [isTransitioning, setIsTransitioning] = useState(false);

  // ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹åˆ¤å®š
  const isMobile = useCallback(() => {
    if (typeof window === 'undefined') return false;
    return window.innerWidth < 1024; // lg breakpoint
  }, []);

  // å·¦ã‚¹ãƒ¯ã‚¤ãƒ—: æ¬¡ã®ã‚¿ãƒ–ã¸
  const handleSwipeLeft = useCallback(() => {
    const currentIndex = tabs.indexOf(activeTab);
    if (currentIndex < tabs.length - 1) {
      setSwipeDirection('left');
      setIsTransitioning(true);

      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
      setTimeout(() => {
        onTabChange(tabs[currentIndex + 1]);
        setIsTransitioning(false);
        setSwipeDirection(null);
      }, 300);
    }
  }, [activeTab, tabs, onTabChange]);

  // å³ã‚¹ãƒ¯ã‚¤ãƒ—: å‰ã®ã‚¿ãƒ–ã¸
  const handleSwipeRight = useCallback(() => {
    const currentIndex = tabs.indexOf(activeTab);
    if (currentIndex > 0) {
      setSwipeDirection('right');
      setIsTransitioning(true);

      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
      setTimeout(() => {
        onTabChange(tabs[currentIndex - 1]);
        setIsTransitioning(false);
        setSwipeDirection(null);
      }, 300);
    }
  }, [activeTab, tabs, onTabChange]);

  // ã‚¹ãƒ¯ã‚¤ãƒ—ãƒãƒ³ãƒ‰ãƒ©ãƒ¼è¨­å®š
  const handlers = useSwipeable({
    onSwipedLeft: handleSwipeLeft,
    onSwipedRight: handleSwipeRight,
    trackMouse: enableOnDesktop, // PCç‰ˆã§ã®ãƒã‚¦ã‚¹ãƒ‰ãƒ©ãƒƒã‚°
    delta: swipeThreshold,        // æœ€å°ã‚¹ãƒ¯ã‚¤ãƒ—è·é›¢
    preventScrollOnSwipe: false,  // ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¦¨ã’ãªã„
    swipeDuration: 500,           // ã‚¹ãƒ¯ã‚¤ãƒ—èªè­˜ã®æœ€å¤§æ™‚é–“
    touchEventOptions: { passive: true } // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  });

  // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã‚¹ãƒ¯ã‚¤ãƒ—ç„¡åŠ¹ã®å ´åˆ
  if (!isMobile() && !enableOnDesktop) {
    return {
      handlers: {} as SwipeableHandlers,
      swipeDirection: null,
      isTransitioning: false,
      isMobile: false
    };
  }

  return {
    handlers,
    swipeDirection,
    isTransitioning,
    isMobile: isMobile()
  };
}
```

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- [ ] ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹åˆ¤å®šãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹
- [ ] å·¦ã‚¹ãƒ¯ã‚¤ãƒ—ã§æ¬¡ã®ã‚¿ãƒ–ã«ç§»å‹•ã™ã‚‹ã‹
- [ ] å³ã‚¹ãƒ¯ã‚¤ãƒ—ã§å‰ã®ã‚¿ãƒ–ã«ç§»å‹•ã™ã‚‹ã‹
- [ ] æœ€åˆ/æœ€å¾Œã®ã‚¿ãƒ–ã§ç«¯ã®æŒ™å‹•ãŒæ­£ã—ã„ã‹
- [ ] ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã‚¹ãƒ¯ã‚¤ãƒ—ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã‹

---

#### Step 3: InterviewStationã¸ã®é©ç”¨ï¼ˆ4æ™‚é–“ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/pages/InterviewStation.tsx`ï¼ˆæ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£ï¼‰

**å¤‰æ›´å‰ã®æ§‹é€ ç¢ºèª**:
```typescript
// æ—¢å­˜ã®ã‚¿ãƒ–çŠ¶æ…‹ç®¡ç†ã‚’ç¢ºèª
const [activeTab, setActiveTab] = useState<'dashboard' | 'history' | 'booking'>('dashboard');
```

**å¤‰æ›´å†…å®¹**:
```typescript
import { useSwipeableTabs } from '../hooks/useSwipeableTabs';

const InterviewStation: React.FC = () => {
  const [activeTab, setActiveTab] = useState<'dashboard' | 'history' | 'booking'>('dashboard');

  // ã‚¹ãƒ¯ã‚¤ãƒ—æ©Ÿèƒ½ã‚’è¿½åŠ 
  const { handlers, swipeDirection, isTransitioning, isMobile } = useSwipeableTabs({
    activeTab,
    tabs: ['dashboard', 'history', 'booking'],
    onTabChange: setActiveTab
  });

  return (
    <div className="min-h-screen bg-gray-50">
      {/* ã‚¿ãƒ–ãƒœã‚¿ãƒ³ï¼ˆæ—¢å­˜ï¼‰ */}
      <div className="bg-white border-b sticky top-0 z-10">
        <div className="flex">
          <button
            onClick={() => setActiveTab('dashboard')}
            className={/* ... */}
          >
            ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
          </button>
          <button
            onClick={() => setActiveTab('history')}
            className={/* ... */}
          >
            å±¥æ­´
          </button>
          <button
            onClick={() => setActiveTab('booking')}
            className={/* ... */}
          >
            äºˆç´„
          </button>
        </div>

        {/* ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆãƒ¢ãƒã‚¤ãƒ«ã®ã¿ï¼‰ */}
        {isMobile && (
          <div className="flex justify-center gap-2 py-2">
            {['dashboard', 'history', 'booking'].map((tab) => (
              <div
                key={tab}
                className={`h-1.5 rounded-full transition-all duration-300 ${
                  activeTab === tab
                    ? 'w-8 bg-purple-500'
                    : 'w-1.5 bg-gray-400'
                }`}
              />
            ))}
          </div>
        )}
      </div>

      {/* ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆã‚¹ãƒ¯ã‚¤ãƒ—ãƒãƒ³ãƒ‰ãƒ©ãƒ¼é©ç”¨ï¼‰ */}
      <div {...handlers} className="relative overflow-hidden">
        <div
          className={`transition-all duration-300 ${
            isTransitioning
              ? swipeDirection === 'left'
                ? '-translate-x-4 opacity-90'
                : 'translate-x-4 opacity-90'
              : 'translate-x-0 opacity-100'
          }`}
        >
          {activeTab === 'dashboard' && <DashboardTab />}
          {activeTab === 'history' && <HistoryTab />}
          {activeTab === 'booking' && <BookingTab />}
        </div>
      </div>
    </div>
  );
};
```

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- [ ] æ¨ªã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚¿ãƒ–ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã‹
- [ ] ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚‚å¼•ãç¶šãå‹•ä½œã™ã‚‹ã‹
- [ ] ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã‚’æ­£ã—ãç¤ºã™ã‹
- [ ] ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¹ãƒ ãƒ¼ã‚ºã‹
- [ ] ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¦¨ã’ãªã„ã‹

---

#### Step 4: ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆ1æ™‚é–“ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒã‚¤ã‚¹**:
- iPhone (Safari)
- Android (Chrome)
- iPad (Safari) - ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¢ºèª
- Desktop (Chrome) - ã‚¹ãƒ¯ã‚¤ãƒ—ç„¡åŠ¹ç¢ºèª

**ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**:
1. å·¦ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
2. å³ã‚¹ãƒ¯ã‚¤ãƒ—ã§ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
3. æœ€åˆã®ã‚¿ãƒ–ã§å³ã‚¹ãƒ¯ã‚¤ãƒ—ï¼ˆç„¡åå¿œï¼‰
4. æœ€å¾Œã®ã‚¿ãƒ–ã§å·¦ã‚¹ãƒ¯ã‚¤ãƒ—ï¼ˆç„¡åå¿œï¼‰
5. ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®å‹•ä½œç¢ºèª
6. ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã¨ã®ä½µç”¨ç¢ºèª

---

### Phase 7-B: ä»–ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±•é–‹ï¼ˆ3æ—¥ï¼‰

#### Step 1: å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆï¼ˆ4æ™‚é–“ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/common/SwipeableTabContainer.tsx`ï¼ˆæ–°è¦ä½œæˆï¼‰

**å®Ÿè£…å†…å®¹**:
```typescript
import React from 'react';
import { useSwipeableTabs } from '../../hooks/useSwipeableTabs';

interface Tab<T extends string | number> {
  id: T;
  label: string;
  content: React.ReactNode;
  icon?: React.ReactNode;
}

interface SwipeableTabContainerProps<T extends string | number> {
  tabs: Tab<T>[];
  activeTab: T;
  onTabChange: (tab: T) => void;
  className?: string;
  enableSwipe?: boolean; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ãƒ¢ãƒã‚¤ãƒ«ã®ã¿
  showIndicator?: boolean; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: true
}

export function SwipeableTabContainer<T extends string | number>({
  tabs,
  activeTab,
  onTabChange,
  className = '',
  enableSwipe = true,
  showIndicator = true
}: SwipeableTabContainerProps<T>) {
  const { handlers, swipeDirection, isTransitioning, isMobile } = useSwipeableTabs({
    activeTab,
    tabs: tabs.map(t => t.id),
    onTabChange
  });

  const activeTabContent = tabs.find(t => t.id === activeTab)?.content;

  return (
    <div className={`swipeable-tab-container ${className}`}>
      {/* ã‚¿ãƒ–ãƒœã‚¿ãƒ³ */}
      <div className="bg-white border-b sticky top-0 z-10">
        <div className="flex">
          {tabs.map((tab) => (
            <button
              key={String(tab.id)}
              onClick={() => onTabChange(tab.id)}
              className={`flex-1 py-3 px-4 text-sm font-medium transition-colors ${
                activeTab === tab.id
                  ? 'text-purple-600 border-b-2 border-purple-600'
                  : 'text-gray-600 hover:text-gray-900'
              }`}
            >
              <div className="flex items-center justify-center gap-2">
                {tab.icon}
                <span>{tab.label}</span>
              </div>
            </button>
          ))}
        </div>

        {/* ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */}
        {isMobile && showIndicator && (
          <div className="flex justify-center gap-2 py-2">
            {tabs.map((tab) => (
              <div
                key={String(tab.id)}
                className={`h-1.5 rounded-full transition-all duration-300 ${
                  activeTab === tab.id
                    ? 'w-8 bg-purple-500'
                    : 'w-1.5 bg-gray-400'
                }`}
              />
            ))}
          </div>
        )}
      </div>

      {/* ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      <div {...(enableSwipe ? handlers : {})} className="relative overflow-hidden">
        <div
          className={`transition-all duration-300 ${
            isTransitioning
              ? swipeDirection === 'left'
                ? '-translate-x-4 opacity-90'
                : 'translate-x-4 opacity-90'
              : 'translate-x-0 opacity-100'
          }`}
        >
          {activeTabContent}
        </div>
      </div>
    </div>
  );
}
```

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- [ ] æ±ç”¨çš„ã«ä½¿ãˆã‚‹ã‹
- [ ] ã‚¢ã‚¤ã‚³ãƒ³ä»˜ãã‚¿ãƒ–ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹
- [ ] ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã®è¡¨ç¤º/éè¡¨ç¤ºãŒåˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã‹

---

#### Step 2: å„ãƒšãƒ¼ã‚¸ã¸ã®é©ç”¨ï¼ˆ2æ—¥ï¼‰

å„ãƒšãƒ¼ã‚¸ã”ã¨ã«æ—¢å­˜ã®ã‚¿ãƒ–æ§‹é€ ã‚’`SwipeableTabContainer`ã«ç½®ãæ›ãˆã€‚

**å¯¾è±¡ãƒšãƒ¼ã‚¸**:
1. EvaluationStation.tsx
2. HealthStation.tsx
3. CareerSelectionStationPage.tsx
4. PersonalStation.tsx
5. HomePage.tsx

**é©ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// Before
const [activeTab, setActiveTab] = useState('tab1');

return (
  <div>
    <div className="tabs">
      <button onClick={() => setActiveTab('tab1')}>Tab 1</button>
      <button onClick={() => setActiveTab('tab2')}>Tab 2</button>
    </div>
    <div>
      {activeTab === 'tab1' && <Tab1Content />}
      {activeTab === 'tab2' && <Tab2Content />}
    </div>
  </div>
);

// After
import { SwipeableTabContainer } from '../components/common/SwipeableTabContainer';

const [activeTab, setActiveTab] = useState<'tab1' | 'tab2'>('tab1');

const tabs = [
  { id: 'tab1', label: 'Tab 1', content: <Tab1Content /> },
  { id: 'tab2', label: 'Tab 2', content: <Tab2Content /> }
];

return (
  <SwipeableTabContainer
    tabs={tabs}
    activeTab={activeTab}
    onTabChange={setActiveTab}
  />
);
```

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- [ ] å…¨6ãƒšãƒ¼ã‚¸ã§ã‚¹ãƒ¯ã‚¤ãƒ—å‹•ä½œç¢ºèª
- [ ] æ—¢å­˜æ©Ÿèƒ½ãŒç ´å£Šã•ã‚Œã¦ã„ãªã„ã‹ç¢ºèª

---

### Phase 7-C: UXæ”¹å–„ï¼ˆ2æ—¥ï¼‰

#### 1. ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼ˆ1æ—¥ï¼‰

**å®Ÿè£…å†…å®¹**:
- ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã«æ¬¡ã®ã‚¿ãƒ–ãŒå°‘ã—è¦‹ãˆã‚‹åŠ¹æœ
- 3Då¤‰æ›ã‚’ä½¿ã£ãŸè¦–è¦šåŠ¹æœ

```typescript
// useSwipeableTabs.ts ã«è¿½åŠ 
const [swipeOffset, setSwipeOffset] = useState(0);

const handlers = useSwipeable({
  onSwiping: (eventData) => {
    // ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆè¨ˆç®—
    setSwipeOffset(eventData.deltaX);
  },
  // ... æ—¢å­˜ã®è¨­å®š
});
```

**CSSè¿½åŠ **:
```css
.swipeable-content {
  transform: translateX(${swipeOffset}px);
  transition: transform 0.1s linear;
}
```

---

#### 2. è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼ˆ1æ—¥ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/utils/swipeSettings.ts`ï¼ˆæ–°è¦ä½œæˆï¼‰

**å®Ÿè£…å†…å®¹**:
```typescript
export interface SwipeSettings {
  enabled: boolean;
  sensitivity: 'low' | 'medium' | 'high';
  showIndicator: boolean;
}

const SETTINGS_KEY = 'voicedrive_swipe_settings';

const DEFAULT_SETTINGS: SwipeSettings = {
  enabled: true,
  sensitivity: 'medium',
  showIndicator: true
};

export function getSwipeSettings(): SwipeSettings {
  const stored = localStorage.getItem(SETTINGS_KEY);
  if (stored) {
    return { ...DEFAULT_SETTINGS, ...JSON.parse(stored) };
  }
  return DEFAULT_SETTINGS;
}

export function setSwipeSettings(settings: Partial<SwipeSettings>): void {
  const current = getSwipeSettings();
  const updated = { ...current, ...settings };
  localStorage.setItem(SETTINGS_KEY, JSON.stringify(updated));
}

export function getSensitivityThreshold(sensitivity: string): number {
  switch (sensitivity) {
    case 'low': return 80;
    case 'medium': return 50;
    case 'high': return 30;
    default: return 50;
  }
}
```

**è¨­å®šç”»é¢è¿½åŠ ** (SettingsPage.tsx):
```typescript
// ã‚¹ãƒ¯ã‚¤ãƒ—è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
<div className="setting-section">
  <h3>ã‚¹ãƒ¯ã‚¤ãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h3>

  <label>
    <input
      type="checkbox"
      checked={swipeSettings.enabled}
      onChange={(e) => updateSwipeSetting('enabled', e.target.checked)}
    />
    ã‚¹ãƒ¯ã‚¤ãƒ—æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–
  </label>

  <label>
    æ„Ÿåº¦:
    <select
      value={swipeSettings.sensitivity}
      onChange={(e) => updateSwipeSetting('sensitivity', e.target.value)}
    >
      <option value="low">ä½</option>
      <option value="medium">ä¸­</option>
      <option value="high">é«˜</option>
    </select>
  </label>

  <label>
    <input
      type="checkbox"
      checked={swipeSettings.showIndicator}
      onChange={(e) => updateSwipeSetting('showIndicator', e.target.checked)}
    />
    ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
  </label>
</div>
```

---

## ğŸ“… å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Week 1: Phase 7-Aï¼ˆ2æ—¥ï¼‰
| æ—¥ | ã‚¿ã‚¹ã‚¯ | è¦‹ç© |
|----|--------|------|
| Day 1 AM | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« + ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆ | 0.5æ—¥ |
| Day 1 PM - Day 2 | InterviewStationé©ç”¨ + ãƒ¢ãƒã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ | 1.5æ—¥ |

### Week 2: Phase 7-Bï¼ˆ3æ—¥ï¼‰
| æ—¥ | ã‚¿ã‚¹ã‚¯ | è¦‹ç© |
|----|--------|------|
| Day 3 | å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ | 0.5æ—¥ |
| Day 4-5 | å„ãƒšãƒ¼ã‚¸ã¸ã®é©ç”¨ï¼ˆ5ãƒšãƒ¼ã‚¸ï¼‰ | 2.5æ—¥ |

### Week 3: Phase 7-Cï¼ˆ2æ—¥ï¼‰
| æ—¥ | ã‚¿ã‚¹ã‚¯ | è¦‹ç© |
|----|--------|------|
| Day 6 | ã‚¹ãƒ¯ã‚¤ãƒ—ä¸­ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè£… | 1æ—¥ |
| Day 7 | è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³å®Ÿè£… | 1æ—¥ |

**åˆè¨ˆè¦‹ç©ã‚‚ã‚Š**: 7æ—¥

---

## âœ… å®Œäº†æ¡ä»¶

### Phase 7-A
- [ ] é¢è«‡ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§æ¨ªã‚¹ãƒ¯ã‚¤ãƒ—å‹•ä½œ
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã§ã®ã¿æœ‰åŠ¹åŒ–
- [ ] æ—¢å­˜ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚‚å¼•ãç¶šãä½¿ç”¨å¯èƒ½
- [ ] ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å¦¨ã’ãªã„

### Phase 7-B
- [ ] å…¨6ãƒšãƒ¼ã‚¸ã§ã‚¹ãƒ¯ã‚¤ãƒ—å¯¾å¿œ
- [ ] å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–
- [ ] ã‚³ãƒ¼ãƒ‰é‡è¤‡ã®æœ€å°åŒ–

### Phase 7-C
- [ ] ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
- [ ] ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆON/OFFã€æ„Ÿåº¦ï¼‰
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

---

## ğŸ” ãƒ†ã‚¹ãƒˆè¨ˆç”»

### ãƒ‡ãƒã‚¤ã‚¹ãƒ†ã‚¹ãƒˆ

| ãƒ‡ãƒã‚¤ã‚¹ | OS | ãƒ–ãƒ©ã‚¦ã‚¶ | ç¢ºèªé …ç›® |
|---------|-----|---------|---------|
| iPhone | iOS | Safari | ã‚¹ãƒ¯ã‚¤ãƒ—å‹•ä½œã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« |
| Android | Android | Chrome | ã‚¹ãƒ¯ã‚¤ãƒ—å‹•ä½œã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« |
| iPad | iOS | Safari | ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œ |
| Desktop | Windows | Chrome | ã‚¹ãƒ¯ã‚¤ãƒ—ç„¡åŠ¹åŒ– |

### æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

1. **åŸºæœ¬å‹•ä½œ**
   - [ ] å·¦ã‚¹ãƒ¯ã‚¤ãƒ—ã§æ¬¡ã®ã‚¿ãƒ–
   - [ ] å³ã‚¹ãƒ¯ã‚¤ãƒ—ã§å‰ã®ã‚¿ãƒ–
   - [ ] æœ€åˆ/æœ€å¾Œã®ã‚¿ãƒ–ã§ç«¯ã®æŒ™å‹•

2. **ç«¶åˆãƒã‚§ãƒƒã‚¯**
   - [ ] ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒæ­£å¸¸å‹•ä½œ
   - [ ] ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚‚å‹•ä½œ
   - [ ] ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã¨ç«¶åˆã—ãªã„

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - [ ] ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒ ãƒ¼ã‚ºã•
   - [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ï¼ˆ<100msï¼‰
   - [ ] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãªã—

---

## ğŸ‰ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### å®šé‡çš„åŠ¹æœ
- **æ“ä½œæ™‚é–“çŸ­ç¸®**: ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚é–“ 50%å‰Šæ¸›ï¼ˆæ¨å®šï¼‰
- **ã‚¿ãƒƒãƒ—å›æ•°å‰Šæ¸›**: ã‚¿ãƒ–é–“ç§»å‹•ãŒ1ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åŒ–
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦**: +20%å‘ä¸Šï¼ˆæ¨å®šï¼‰

### å®šæ€§çš„åŠ¹æœ
- âœ… ãƒ¢ãƒ€ãƒ³ãªã‚¢ãƒ—ãƒªä½“é¨“ã®æä¾›
- âœ… åŒ»ç™‚ç¾å ´ã§ã®ä½¿ã„ã‚„ã™ã•å‘ä¸Š
- âœ… VoiceDriveã®å·®åˆ¥åŒ–è¦å› 
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆå‘ä¸Š

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ20æ—¥
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æœªç€æ‰‹
