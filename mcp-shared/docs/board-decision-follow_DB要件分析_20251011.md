# BoardDecisionFollowï¼ˆç†äº‹ä¼šæ±ºå®šäº‹é …ãƒ•ã‚©ãƒ­ãƒ¼ï¼‰DBè¦ä»¶åˆ†æ

**æ–‡æ›¸ç•ªå·**: VD-DB-ANALYSIS-BOARD-DECISION-FOLLOW-20251011
**ä½œæˆæ—¥**: 2025å¹´10æœˆ11æ—¥
**å¯¾è±¡ãƒšãƒ¼ã‚¸**: https://voicedrive-v100.vercel.app/board-decision-follow
**å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ãƒ¬ãƒ™ãƒ«18ï¼ˆç†äº‹é•·ãƒ»æ³•äººäº‹å‹™å±€é•·ï¼‰
**ãƒšãƒ¼ã‚¸ç›®çš„**: ç†äº‹ä¼šã§æ±ºå®šã•ã‚ŒãŸäº‹é …ã®å®Ÿæ–½é€²æ—ã‚’è¿½è·¡ã—ã€å„æ–½è¨­ã§ã®å±•é–‹çŠ¶æ³ã‚’ç®¡ç†

---

## ğŸ“‹ ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

### ãƒšãƒ¼ã‚¸æ¦‚è¦
- **ç†äº‹ä¼šæ±ºå®šäº‹é …ã®å®Ÿæ–½çŠ¶æ³è¿½è·¡**: æ±ºå®šäº‹é …ã”ã¨ã«é€²æ—ãƒ»ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãƒ»æ–½è¨­åˆ¥å±•é–‹ã‚’ç®¡ç†
- **é€²æ—ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: completed, on_track, at_risk, delayed ã®4æ®µéšã§ç®¡ç†
- **ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç®¡ç†**: å„æ±ºå®šäº‹é …ã«è¤‡æ•°ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚’è¨­å®šã—ã€æœŸé™ãƒ»æ‹…å½“è€…ãƒ»é€²æ—ã‚’è¿½è·¡
- **æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³**: VoiceDriveå±•é–‹ãªã©ã®æ–½è¨­åˆ¥é€²æ—ã‚’ç®¡ç†ï¼ˆ10æ–½è¨­ï¼‰
- **ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½**: é…å»¶ãƒ»è¦æ³¨æ„æ¡ˆä»¶ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º

### ãƒ‡ãƒ¼ã‚¿è²¬ä»»åˆ†ç•Œ
| ãƒ‡ãƒ¼ã‚¿ | è²¬ä»»ã‚·ã‚¹ãƒ†ãƒ  | ç†ç”± |
|--------|------------|------|
| ç†äº‹ä¼šæ±ºå®šäº‹é … | VoiceDrive | ç†äº‹ä¼šé‹å–¶ã¯VoiceDriveç®¡è½„ |
| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | VoiceDrive | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½ |
| æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³ | VoiceDrive | VoiceDriveå±•é–‹ç®¡ç† |
| æ–½è¨­ãƒã‚¹ã‚¿ | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | æ–½è¨­æƒ…å ±ã¯åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãŒç®¡ç† |
| æ‹…å½“éƒ¨é–€ãƒã‚¹ã‚¿ | åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  | éƒ¨é–€æƒ…å ±ã¯åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãŒç®¡ç† |

### ä¸è¶³é …ç›®ã‚µãƒãƒªãƒ¼
- **æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«**: 1å€‹ï¼ˆBoardDecisionï¼‰
- **ãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µ**: 1å€‹ï¼ˆBoardMeeting - æ±ºå®šäº‹é …ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ï¼‰
- **åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ API**: 0å€‹ï¼ˆæ—¢å­˜APIã§å¯¾å¿œå¯èƒ½ï¼‰

---

## ğŸ¯ ãƒšãƒ¼ã‚¸æ©Ÿèƒ½è©³ç´°åˆ†æ

### 1. ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆLines 347-383ï¼‰

**æ©Ÿèƒ½**: æ±ºå®šäº‹é …ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤º

**è¡¨ç¤ºé …ç›®**:
- âœ… å®Œäº†ä»¶æ•°
- ğŸ”µ é †èª¿ä»¶æ•°
- ğŸŸ¡ è¦æ³¨æ„ä»¶æ•°
- ğŸ”´ é…å»¶ä»¶æ•°

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
```typescript
interface StatusSummary {
  completed: number;      // å®Œäº†ä»¶æ•°
  on_track: number;       // é †èª¿ä»¶æ•°
  at_risk: number;        // è¦æ³¨æ„ä»¶æ•°
  delayed: number;        // é…å»¶ä»¶æ•°
}
```

**ãƒ‡ãƒ¼ã‚¿å–å¾—æ–¹æ³•**:
- VoiceDrive `BoardDecision` ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ status ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆ

**ä¸è¶³é …ç›®**:
- âŒ `BoardDecision` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ä½œæˆå¿…è¦ï¼‰

---

### 2. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆLines 385-400ï¼‰

**æ©Ÿèƒ½**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ã«æ±ºå®šäº‹é …ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

**ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é …ç›®**:
- å…¨ã¦ï¼ˆallï¼‰
- å®Œäº†ï¼ˆcompletedï¼‰
- é †èª¿ï¼ˆon_trackï¼‰
- è¦æ³¨æ„ï¼ˆat_riskï¼‰
- é…å»¶ï¼ˆdelayedï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `BoardDecision.status` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

**ä¸è¶³é …ç›®**:
- ãªã—ï¼ˆBoardDecision ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã§è§£æ±ºï¼‰

---

### 3. ç†äº‹ä¼šæ±ºå®šäº‹é …ä¸€è¦§è¡¨ç¤ºï¼ˆLines 402-502ï¼‰

**æ©Ÿèƒ½**: æ±ºå®šäº‹é …ã®è©³ç´°æƒ…å ±ã‚’ä¸€è¦§è¡¨ç¤º

**è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿** (Lines 48-260):
```typescript
interface BoardDecision {
  id: string;
  meetingDate: string;              // ç†äº‹ä¼šé–‹å‚¬æ—¥
  title: string;                    // æ±ºå®šäº‹é …ã‚¿ã‚¤ãƒˆãƒ«
  category: string;                 // ã‚«ãƒ†ã‚´ãƒªï¼ˆã‚·ã‚¹ãƒ†ãƒ å°å…¥ã€äººäº‹åˆ¶åº¦ç­‰ï¼‰
  description: string;              // èª¬æ˜
  decision: string;                 // ç†äº‹ä¼šæ±ºå®šå†…å®¹
  implementationDeadline: string;   // å®Ÿæ–½æœŸé™
  responsibleDept: string;          // æ‹…å½“éƒ¨é–€
  affectedFacilities: string[];     // å½±éŸ¿æ–½è¨­ï¼ˆé…åˆ—ï¼‰
  status: 'completed' | 'on_track' | 'at_risk' | 'delayed';
  progress: number;                 // é€²æ—ç‡ï¼ˆ0-100ï¼‰
  milestones: Milestone[];          // ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³é…åˆ—
  lastUpdate: string;               // æœ€çµ‚æ›´æ–°ï¼ˆç›¸å¯¾æ™‚é–“ï¼‰
}

interface Milestone {
  id: string;
  title: string;                    // ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚¿ã‚¤ãƒˆãƒ«
  deadline: string;                 // æœŸé™
  status: 'completed' | 'in_progress' | 'pending' | 'delayed';
  assignee: string;                 // æ‹…å½“è€…å
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- VoiceDrive: `BoardDecision` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰
- VoiceDrive: `BoardDecisionMilestone` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ã€Milestoneã‚µãƒ–ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã—ã¦ï¼‰
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ : éƒ¨é–€ãƒã‚¹ã‚¿ï¼ˆAPIçµŒç”±ã§å–å¾—ï¼‰

**ä¸è¶³é …ç›®**:
- âŒ `BoardDecision` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰
- âŒ `BoardDecisionMilestone` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰

---

### 4. ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³è¡¨ç¤ºï¼ˆLines 459-487ï¼‰

**æ©Ÿèƒ½**: å„æ±ºå®šäº‹é …ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚’é€²æ—ä»˜ãã§è¡¨ç¤º

**ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿** (Lines 60-88ã®ä¾‹):
```json
{
  "id": "m1",
  "title": "ã‚·ã‚¹ãƒ†ãƒ æ”¹ä¿®ãƒ»æ©Ÿèƒ½æ‹¡å¼µ",
  "deadline": "2025å¹´12æœˆæœ«",
  "status": "in_progress",
  "assignee": "ITéƒ¨"
}
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‰²åˆ†ã‘** (Lines 316-323):
- `completed`: ç·‘ï¼ˆbg-green-400ï¼‰
- `in_progress`: é’ï¼ˆbg-blue-400ï¼‰
- `delayed`: èµ¤ï¼ˆbg-red-400ï¼‰
- `pending`: ç°è‰²ï¼ˆbg-gray-400ï¼‰

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `BoardDecisionMilestone` ãƒ†ãƒ¼ãƒ–ãƒ«
  - boardDecisionIdï¼ˆè¦ªæ±ºå®šäº‹é …IDï¼‰
  - title, deadline, status, assignee

**ä¸è¶³é …ç›®**:
- âŒ `BoardDecisionMilestone` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰

---

### 5. å½±éŸ¿æ–½è¨­è¡¨ç¤ºï¼ˆLines 489-499ï¼‰

**æ©Ÿèƒ½**: æ±ºå®šäº‹é …ãŒå½±éŸ¿ã™ã‚‹æ–½è¨­ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º

**ãƒ‡ãƒ¼ã‚¿ä¾‹** (Line 57, 101, 145):
```typescript
affectedFacilities: ['å…¨10æ–½è¨­']
affectedFacilities: ['ä¸­å¤®ç·åˆç—…é™¢', 'åŒ—éƒ¨åŒ»ç™‚ã‚»ãƒ³ã‚¿ãƒ¼', 'æ¡œãƒ¶ä¸˜ç·åˆç—…é™¢', 'æ±éƒ¨ãƒªãƒãƒ“ãƒªç—…é™¢']
```

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `BoardDecision.affectedFacilities` (JSONé…åˆ—)
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ : æ–½è¨­ãƒã‚¹ã‚¿ï¼ˆè¡¨ç¤ºåå–å¾—ç”¨ã€APIçµŒç”±ï¼‰

**ä¸è¶³é …ç›®**:
- ãªã—ï¼ˆBoardDecision ãƒ†ãƒ¼ãƒ–ãƒ«ã« affectedFacilities ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚ã‚‹ï¼‰

---

### 6. æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³è¡¨ç¤ºï¼ˆLines 504-547ï¼‰

**æ©Ÿèƒ½**: ç‰¹å®šã®æ±ºå®šäº‹é …ï¼ˆVoiceDriveå±•é–‹ç­‰ï¼‰ã®æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³ã‚’è¡¨ç¤º

**æ–½è¨­å®Ÿæ–½çŠ¶æ³ãƒ‡ãƒ¼ã‚¿** (Lines 264-275):
```typescript
interface FacilityImplementation {
  facilityName: string;             // æ–½è¨­å
  status: 'completed' | 'in_progress' | 'not_started';
  progress: number;                 // é€²æ—ç‡ï¼ˆ0-100ï¼‰
  note: string;                     // å‚™è€ƒ
}
```

**ãƒ‡ãƒ¼ã‚¿ä¾‹**:
```json
{
  "facilityName": "ä¸­å¤®ç·åˆç—…é™¢",
  "status": "completed",
  "progress": 100,
  "note": "è©¦é¨“é‹ç”¨æ–½è¨­ã€‚é †èª¿ã«ç¨¼åƒä¸­ã€‚"
}
```

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `BoardDecisionFacilityImplementation` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰
  - boardDecisionId
  - facilityIdï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®æ–½è¨­IDï¼‰
  - facilityNameï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
  - status, progress, note

**ä¸è¶³é …ç›®**:
- âŒ `BoardDecisionFacilityImplementation` ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ–°è¦ï¼‰

---

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«1: BoardDecisionï¼ˆç†äº‹ä¼šæ±ºå®šäº‹é …ï¼‰

```prisma
model BoardDecision {
  id                      String    @id @default(cuid())

  // ç†äº‹ä¼šæƒ…å ±
  boardMeetingId          String    @map("board_meeting_id")
  meetingDate             DateTime  @map("meeting_date")

  // æ±ºå®šäº‹é …æƒ…å ±
  title                   String
  category                String    // "ã‚·ã‚¹ãƒ†ãƒ å°å…¥", "äººäº‹åˆ¶åº¦", "ITãƒ»ã‚·ã‚¹ãƒ†ãƒ ", "äººæè‚²æˆ"
  description             String    @db.Text
  decision                String    @db.Text  // ç†äº‹ä¼šæ±ºå®šå†…å®¹

  // å®Ÿæ–½æƒ…å ±
  implementationDeadline  DateTime  @map("implementation_deadline")
  responsibleDept         String    @map("responsible_dept")  // æ‹…å½“éƒ¨é–€åï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
  responsibleDeptId       String?   @map("responsible_dept_id")  // åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ éƒ¨é–€ID
  affectedFacilities      Json      @map("affected_facilities")  // å½±éŸ¿æ–½è¨­IDé…åˆ—

  // é€²æ—ç®¡ç†
  status                  String    @default("on_track")  // "completed", "on_track", "at_risk", "delayed"
  progress                Int       @default(0)  // 0-100
  lastUpdate              DateTime  @default(now()) @map("last_update")

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  createdAt               DateTime  @default(now()) @map("created_at")
  updatedAt               DateTime  @updatedAt @map("updated_at")

  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  boardMeeting            BoardMeeting @relation("BoardDecisions", fields: [boardMeetingId], references: [id], onDelete: Cascade)
  milestones              BoardDecisionMilestone[]
  facilityImplementations BoardDecisionFacilityImplementation[]

  @@index([boardMeetingId])
  @@index([status])
  @@index([implementationDeadline])
  @@index([category])
  @@map("board_decisions")
}
```

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è©³ç´°**:
- `boardMeetingId`: ç†äº‹ä¼šãƒã‚¹ã‚¿ã¸ã®å‚ç…§ï¼ˆæ—¢å­˜ BoardMeeting ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- `meetingDate`: æ±ºå®šãŒè¡Œã‚ã‚ŒãŸç†äº‹ä¼šã®æ—¥ä»˜ï¼ˆè¡¨ç¤ºç”¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
- `category`: æ±ºå®šäº‹é …ã®ã‚«ãƒ†ã‚´ãƒªï¼ˆã‚·ã‚¹ãƒ†ãƒ å°å…¥ã€äººäº‹åˆ¶åº¦ã€ITãƒ»ã‚·ã‚¹ãƒ†ãƒ ã€äººæè‚²æˆï¼‰
- `decision`: ç†äº‹ä¼šã§ã®æ­£å¼ãªæ±ºå®šå†…å®¹ï¼ˆã€Œäºˆç®—800ä¸‡å††ã‚’æ‰¿èªã€‚2026å¹´4æœˆæœ¬æ ¼é‹ç”¨é–‹å§‹ã€‚ã€ç­‰ï¼‰
- `responsibleDept`: æ‹…å½“éƒ¨é–€åï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å–å¾—ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
- `affectedFacilities`: å½±éŸ¿ã‚’å—ã‘ã‚‹æ–½è¨­ã®IDé…åˆ—ï¼ˆJSONï¼‰
- `status`: å®Ÿæ–½ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆcompleted/on_track/at_risk/delayedï¼‰
- `progress`: é€²æ—ç‡ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ï¼ˆ0-100ï¼‰

---

### æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«2: BoardDecisionMilestoneï¼ˆãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼‰

```prisma
model BoardDecisionMilestone {
  id                String        @id @default(cuid())
  boardDecisionId   String        @map("board_decision_id")

  // ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æƒ…å ±
  title             String
  deadline          DateTime
  status            String        @default("pending")  // "completed", "in_progress", "pending", "delayed"
  assignee          String        // æ‹…å½“è€…åï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
  assigneeId        String?       @map("assignee_id")  // User ID
  sortOrder         Int           @default(0) @map("sort_order")  // è¡¨ç¤ºé †

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  createdAt         DateTime      @default(now()) @map("created_at")
  updatedAt         DateTime      @updatedAt @map("updated_at")
  completedAt       DateTime?     @map("completed_at")

  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  boardDecision     BoardDecision @relation(fields: [boardDecisionId], references: [id], onDelete: Cascade)

  @@index([boardDecisionId])
  @@index([status])
  @@index([deadline])
  @@index([sortOrder])
  @@map("board_decision_milestones")
}
```

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è©³ç´°**:
- `assignee`: æ‹…å½“è€…åï¼ˆã€ŒITéƒ¨ã€ã€Œäººäº‹éƒ¨ã€ç­‰ã€éƒ¨é–€åã¾ãŸã¯æ‹…å½“è€…åï¼‰
- `assigneeId`: å°†æ¥çš„ã« User ãƒ¢ãƒ‡ãƒ«ã¸ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ å¯èƒ½
- `sortOrder`: ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®è¡¨ç¤ºé †åº

---

### æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«3: BoardDecisionFacilityImplementationï¼ˆæ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³ï¼‰

```prisma
model BoardDecisionFacilityImplementation {
  id                String        @id @default(cuid())
  boardDecisionId   String        @map("board_decision_id")

  // æ–½è¨­æƒ…å ±
  facilityId        String        @map("facility_id")  // åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ æ–½è¨­ID
  facilityName      String        @map("facility_name")  // æ–½è¨­åï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰

  // å®Ÿæ–½çŠ¶æ³
  status            String        @default("not_started")  // "completed", "in_progress", "not_started"
  progress          Int           @default(0)  // 0-100
  note              String?       // å‚™è€ƒ

  // ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
  startedAt         DateTime?     @map("started_at")
  completedAt       DateTime?     @map("completed_at")

  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  createdAt         DateTime      @default(now()) @map("created_at")
  updatedAt         DateTime      @updatedAt @map("updated_at")

  // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  boardDecision     BoardDecision @relation(fields: [boardDecisionId], references: [id], onDelete: Cascade)

  @@unique([boardDecisionId, facilityId])
  @@index([boardDecisionId])
  @@index([facilityId])
  @@index([status])
  @@map("board_decision_facility_implementations")
}
```

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è©³ç´°**:
- `facilityId`: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®æ–½è¨­ID
- `facilityName`: æ–½è¨­åï¼ˆè¡¨ç¤ºç”¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
- `note`: å®Ÿæ–½çŠ¶æ³ã®å‚™è€ƒï¼ˆã€Œè©¦é¨“é‹ç”¨æ–½è¨­ã€‚é †èª¿ã«ç¨¼åƒä¸­ã€‚ã€ç­‰ï¼‰

---

### æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µ: BoardMeeting

```prisma
model BoardMeeting {
  // ... æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

  // ğŸ†• æ±ºå®šäº‹é …ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
  decisions           BoardDecision[]      @relation("BoardDecisions")
}
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

### ãƒ•ãƒ­ãƒ¼1: ç†äº‹ä¼šæ±ºå®šäº‹é …ä½œæˆ

```mermaid
sequenceDiagram
    participant Admin as ç†äº‹é•·ï¼ˆLevel 18ï¼‰
    participant VD as VoiceDrive
    participant MS as åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ 

    Admin->>VD: ç†äº‹ä¼šæ±ºå®šäº‹é …ã‚’ç™»éŒ²
    VD->>VD: BoardDecision.create()
    VD->>VD: BoardDecisionMilestone.createMany()

    Note over VD: å½±éŸ¿æ–½è¨­ã®æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³ã‚’åˆæœŸåŒ–
    VD->>MS: GET /api/v2/facilitiesï¼ˆæ–½è¨­åå–å¾—ï¼‰
    MS-->>VD: æ–½è¨­ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿
    VD->>VD: BoardDecisionFacilityImplementation.createMany()

    VD-->>Admin: æ±ºå®šäº‹é …ç™»éŒ²å®Œäº†
```

---

### ãƒ•ãƒ­ãƒ¼2: é€²æ—æ›´æ–°ãƒ»ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³å®Œäº†

```mermaid
sequenceDiagram
    participant Admin as ç†äº‹é•·/äº‹å‹™å±€
    participant VD as VoiceDrive

    Admin->>VD: ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³å®Œäº†ãƒãƒ¼ã‚¯
    VD->>VD: BoardDecisionMilestone.update({status: "completed"})

    Note over VD: å…¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ã‚’é›†è¨ˆ
    VD->>VD: é€²æ—ç‡ã‚’å†è¨ˆç®—ï¼ˆå®Œäº†/å…¨ä½“ï¼‰
    VD->>VD: BoardDecision.update({progress: 75})

    Note over VD: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‡ªå‹•åˆ¤å®š
    VD->>VD: é…å»¶ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç¢ºèª
    VD->>VD: BoardDecision.update({status: "at_risk"})

    VD-->>Admin: é€²æ—æ›´æ–°å®Œäº†
```

---

### ãƒ•ãƒ­ãƒ¼3: æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³æ›´æ–°

```mermaid
sequenceDiagram
    participant Facility as æ–½è¨­æ‹…å½“è€…
    participant VD as VoiceDrive

    Facility->>VD: æ–½è¨­ã§ã®å®Ÿæ–½é€²æ—ã‚’å ±å‘Š
    VD->>VD: BoardDecisionFacilityImplementation.update()
    VD->>VD: é€²æ—ç‡ã‚’æ›´æ–°ï¼ˆ60%ï¼‰
    VD->>VD: status = "in_progress"

    Note over VD: å…¨æ–½è¨­ã®é€²æ—ã‚’é›†è¨ˆ
    VD->>VD: å…¨ä½“é€²æ—ã‚’å†è¨ˆç®—
    VD->>VD: BoardDecision.progressæ›´æ–°

    VD-->>Facility: å®Ÿæ–½çŠ¶æ³æ›´æ–°å®Œäº†
```

---

## ğŸ”„ åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ é€£æº

### å¿…è¦ãªAPI

| API | ç”¨é€” | é »åº¦ | å‚™è€ƒ |
|-----|------|------|------|
| GET /api/v2/facilities | æ–½è¨­ãƒã‚¹ã‚¿å–å¾— | åˆæœŸè¡¨ç¤ºæ™‚ | **æ—¢å­˜APIï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰** |
| GET /api/v2/departments | éƒ¨é–€ãƒã‚¹ã‚¿å–å¾— | æ±ºå®šäº‹é …ä½œæˆæ™‚ | **æ—¢å­˜APIï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰** |

**çµè«–**: æ–°è¦APIä¸è¦ã€‚æ—¢å­˜ã®åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ APIã§å¯¾å¿œå¯èƒ½ã€‚

---

## ğŸ¨ ã‚µãƒ¼ãƒ“ã‚¹å±¤è¨­è¨ˆ

### BoardDecisionFollowService

```typescript
class BoardDecisionFollowService {
  // æ±ºå®šäº‹é …ä¸€è¦§å–å¾—ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ä»˜ãï¼‰
  async getDecisions(filter?: {
    status?: 'completed' | 'on_track' | 'at_risk' | 'delayed' | 'all';
    category?: string;
  }): Promise<BoardDecision[]> {
    const where: any = {};
    if (filter?.status && filter.status !== 'all') {
      where.status = filter.status;
    }
    if (filter?.category) {
      where.category = filter.category;
    }

    return prisma.boardDecision.findMany({
      where,
      include: {
        milestones: {
          orderBy: { sortOrder: 'asc' }
        },
        facilityImplementations: true,
        boardMeeting: true
      },
      orderBy: { implementationDeadline: 'asc' }
    });
  }

  // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚µãƒãƒªãƒ¼å–å¾—
  async getStatusSummary(): Promise<StatusSummary> {
    const decisions = await prisma.boardDecision.findMany();

    return {
      completed: decisions.filter(d => d.status === 'completed').length,
      on_track: decisions.filter(d => d.status === 'on_track').length,
      at_risk: decisions.filter(d => d.status === 'at_risk').length,
      delayed: decisions.filter(d => d.status === 'delayed').length
    };
  }

  // ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æ›´æ–°
  async updateMilestone(milestoneId: string, data: {
    status?: string;
    completedAt?: Date;
  }): Promise<void> {
    await prisma.boardDecisionMilestone.update({
      where: { id: milestoneId },
      data
    });

    // è¦ªã®æ±ºå®šäº‹é …ã®é€²æ—ã‚’å†è¨ˆç®—
    const milestone = await prisma.boardDecisionMilestone.findUnique({
      where: { id: milestoneId }
    });

    await this.recalculateDecisionProgress(milestone!.boardDecisionId);
  }

  // æ±ºå®šäº‹é …é€²æ—å†è¨ˆç®—
  async recalculateDecisionProgress(decisionId: string): Promise<void> {
    const milestones = await prisma.boardDecisionMilestone.findMany({
      where: { boardDecisionId: decisionId }
    });

    const completedCount = milestones.filter(m => m.status === 'completed').length;
    const progress = Math.round((completedCount / milestones.length) * 100);

    // é…å»¶ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãƒã‚§ãƒƒã‚¯
    const now = new Date();
    const hasDelayed = milestones.some(m =>
      m.status !== 'completed' && m.deadline < now
    );

    const hasAtRisk = milestones.some(m => {
      const daysToDeadline = Math.floor((m.deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));
      return m.status !== 'completed' && daysToDeadline > 0 && daysToDeadline <= 7;
    });

    let status = 'on_track';
    if (progress === 100) {
      status = 'completed';
    } else if (hasDelayed) {
      status = 'delayed';
    } else if (hasAtRisk) {
      status = 'at_risk';
    }

    await prisma.boardDecision.update({
      where: { id: decisionId },
      data: { progress, status }
    });
  }

  // æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³å–å¾—
  async getFacilityImplementations(decisionId: string): Promise<FacilityImplementation[]> {
    const implementations = await prisma.boardDecisionFacilityImplementation.findMany({
      where: { boardDecisionId: decisionId },
      orderBy: { facilityName: 'asc' }
    });

    return implementations.map(impl => ({
      facilityName: impl.facilityName,
      status: impl.status as 'completed' | 'in_progress' | 'not_started',
      progress: impl.progress,
      note: impl.note || ''
    }));
  }

  // æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³æ›´æ–°
  async updateFacilityImplementation(
    decisionId: string,
    facilityId: string,
    data: {
      status?: string;
      progress?: number;
      note?: string;
    }
  ): Promise<void> {
    await prisma.boardDecisionFacilityImplementation.update({
      where: {
        boardDecisionId_facilityId: {
          boardDecisionId: decisionId,
          facilityId
        }
      },
      data
    });

    // å…¨ä½“é€²æ—ã‚’å†è¨ˆç®—
    await this.recalculateOverallProgress(decisionId);
  }

  // å…¨ä½“é€²æ—å†è¨ˆç®—ï¼ˆæ–½è¨­åˆ¥é€²æ—ã®å¹³å‡ï¼‰
  async recalculateOverallProgress(decisionId: string): Promise<void> {
    const implementations = await prisma.boardDecisionFacilityImplementation.findMany({
      where: { boardDecisionId: decisionId }
    });

    if (implementations.length === 0) return;

    const totalProgress = implementations.reduce((sum, impl) => sum + impl.progress, 0);
    const averageProgress = Math.round(totalProgress / implementations.length);

    await prisma.boardDecision.update({
      where: { id: decisionId },
      data: { progress: averageProgress }
    });
  }

  // æ±ºå®šäº‹é …ä½œæˆ
  async createDecision(data: {
    boardMeetingId: string;
    title: string;
    category: string;
    description: string;
    decision: string;
    implementationDeadline: Date;
    responsibleDept: string;
    affectedFacilities: string[];  // æ–½è¨­IDé…åˆ—
    milestones: {
      title: string;
      deadline: Date;
      assignee: string;
    }[];
  }): Promise<BoardDecision> {
    // æ–½è¨­åã‚’åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å–å¾—
    const facilitiesResponse = await fetch('https://medical-system/api/v2/facilities');
    const facilitiesData = await facilitiesResponse.json();
    const facilitiesMap = new Map(
      facilitiesData.facilities.map(f => [f.facilityId, f.name])
    );

    // æ±ºå®šäº‹é …ä½œæˆ
    const decision = await prisma.boardDecision.create({
      data: {
        boardMeetingId: data.boardMeetingId,
        meetingDate: (await prisma.boardMeeting.findUnique({
          where: { id: data.boardMeetingId }
        }))!.meetingDate,
        title: data.title,
        category: data.category,
        description: data.description,
        decision: data.decision,
        implementationDeadline: data.implementationDeadline,
        responsibleDept: data.responsibleDept,
        affectedFacilities: data.affectedFacilities,
        status: 'on_track',
        progress: 0
      }
    });

    // ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ä½œæˆ
    await prisma.boardDecisionMilestone.createMany({
      data: data.milestones.map((m, index) => ({
        boardDecisionId: decision.id,
        title: m.title,
        deadline: m.deadline,
        assignee: m.assignee,
        status: 'pending',
        sortOrder: index
      }))
    });

    // æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³ã‚’åˆæœŸåŒ–
    await prisma.boardDecisionFacilityImplementation.createMany({
      data: data.affectedFacilities.map(facilityId => ({
        boardDecisionId: decision.id,
        facilityId,
        facilityName: facilitiesMap.get(facilityId) || facilityId,
        status: 'not_started',
        progress: 0
      }))
    });

    return decision;
  }
}
```

---

## ğŸ“‹ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆ

### 1. GET /api/board-decisions
ç†äº‹ä¼šæ±ºå®šäº‹é …ä¸€è¦§å–å¾—

**Query Parameters**:
- `status`: completed | on_track | at_risk | delayed | all
- `category`: ã‚·ã‚¹ãƒ†ãƒ å°å…¥ | äººäº‹åˆ¶åº¦ | ITãƒ»ã‚·ã‚¹ãƒ†ãƒ  | äººæè‚²æˆ

**Response**:
```json
{
  "decisions": [
    {
      "id": "dec-001",
      "boardMeetingId": "bm-2025-07",
      "meetingDate": "2025-07-15T00:00:00Z",
      "title": "VoiceDriveè­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹å…¨æ–½è¨­å±•é–‹",
      "category": "ã‚·ã‚¹ãƒ†ãƒ å°å…¥",
      "description": "ç¾åœ¨3æ–½è¨­ã§è©¦é¨“é‹ç”¨ä¸­ã®...",
      "decision": "äºˆç®—800ä¸‡å††ã‚’æ‰¿èªã€‚2026å¹´4æœˆæœ¬æ ¼é‹ç”¨é–‹å§‹ã€‚",
      "implementationDeadline": "2026-04-01T00:00:00Z",
      "responsibleDept": "äººäº‹éƒ¨ãƒ»ITéƒ¨",
      "affectedFacilities": ["FAC001", "FAC002", "..."],
      "status": "on_track",
      "progress": 45,
      "lastUpdate": "2025-10-09T10:00:00Z",
      "milestones": [
        {
          "id": "m1",
          "title": "ã‚·ã‚¹ãƒ†ãƒ æ”¹ä¿®ãƒ»æ©Ÿèƒ½æ‹¡å¼µ",
          "deadline": "2025-12-31T00:00:00Z",
          "status": "in_progress",
          "assignee": "ITéƒ¨",
          "sortOrder": 0
        }
      ]
    }
  ],
  "summary": {
    "completed": 1,
    "on_track": 2,
    "at_risk": 1,
    "delayed": 1
  }
}
```

---

### 2. GET /api/board-decisions/:id/facility-implementations
æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³å–å¾—

**Response**:
```json
{
  "decisionId": "dec-001",
  "implementations": [
    {
      "facilityId": "FAC001",
      "facilityName": "ä¸­å¤®ç·åˆç—…é™¢",
      "status": "completed",
      "progress": 100,
      "note": "è©¦é¨“é‹ç”¨æ–½è¨­ã€‚é †èª¿ã«ç¨¼åƒä¸­ã€‚",
      "startedAt": "2025-06-01T00:00:00Z",
      "completedAt": "2025-09-30T00:00:00Z"
    }
  ]
}
```

---

### 3. PUT /api/board-decisions/:id/milestones/:milestoneId
ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æ›´æ–°

**Request Body**:
```json
{
  "status": "completed",
  "completedAt": "2025-10-11T00:00:00Z"
}
```

**Response**:
```json
{
  "milestone": {
    "id": "m1",
    "status": "completed",
    "completedAt": "2025-10-11T00:00:00Z"
  },
  "decisionProgress": {
    "id": "dec-001",
    "progress": 75,
    "status": "on_track"
  }
}
```

---

### 4. PUT /api/board-decisions/:id/facility-implementations/:facilityId
æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³æ›´æ–°

**Request Body**:
```json
{
  "status": "in_progress",
  "progress": 60,
  "note": "èª¬æ˜ä¼šå®Ÿæ–½æ¸ˆã€‚ç®¡ç†è€…ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ä¸­ã€‚"
}
```

**Response**:
```json
{
  "implementation": {
    "facilityId": "FAC004",
    "status": "in_progress",
    "progress": 60
  },
  "overallProgress": {
    "id": "dec-001",
    "progress": 50
  }
}
```

---

### 5. POST /api/board-decisions
ç†äº‹ä¼šæ±ºå®šäº‹é …ä½œæˆ

**Request Body**:
```json
{
  "boardMeetingId": "bm-2025-07",
  "title": "VoiceDriveè­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹å…¨æ–½è¨­å±•é–‹",
  "category": "ã‚·ã‚¹ãƒ†ãƒ å°å…¥",
  "description": "ç¾åœ¨3æ–½è¨­ã§è©¦é¨“é‹ç”¨ä¸­ã®VoiceDriveè­°é¡ŒåŒ–ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã€2026å¹´4æœˆã‚ˆã‚Šå…¨10æ–½è¨­ã«å±•é–‹ã™ã‚‹ã€‚",
  "decision": "äºˆç®—800ä¸‡å††ã‚’æ‰¿èªã€‚2026å¹´4æœˆæœ¬æ ¼é‹ç”¨é–‹å§‹ã€‚",
  "implementationDeadline": "2026-04-01",
  "responsibleDept": "äººäº‹éƒ¨ãƒ»ITéƒ¨",
  "affectedFacilities": ["FAC001", "FAC002", "FAC003", "..."],
  "milestones": [
    {
      "title": "ã‚·ã‚¹ãƒ†ãƒ æ”¹ä¿®ãƒ»æ©Ÿèƒ½æ‹¡å¼µ",
      "deadline": "2025-12-31",
      "assignee": "ITéƒ¨"
    }
  ]
}
```

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿åŒæœŸãƒ»æ•´åˆæ€§

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã¨ã®åŒæœŸ

1. **æ–½è¨­ãƒã‚¹ã‚¿åŒæœŸ**
   - åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰æ–½è¨­ãƒã‚¹ã‚¿ã‚’å–å¾—ï¼ˆGET /api/v2/facilitiesï¼‰
   - `BoardDecisionFacilityImplementation.facilityName` ã‚’æ›´æ–°ï¼ˆæ—¥æ¬¡ãƒãƒƒãƒï¼‰

2. **éƒ¨é–€ãƒã‚¹ã‚¿åŒæœŸ**
   - åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰éƒ¨é–€ãƒã‚¹ã‚¿ã‚’å–å¾—ï¼ˆGET /api/v2/departmentsï¼‰
   - `BoardDecision.responsibleDept` ã‚’æ›´æ–°ï¼ˆæ—¥æ¬¡ãƒãƒƒãƒï¼‰

---

## ğŸ“… å®Ÿè£…è¨ˆç”»

### Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ï¼ˆ2æ—¥é–“ï¼‰

**Day 1**:
- [x] DBè¦ä»¶åˆ†ææ›¸ä½œæˆ â† ä»Šã“ã“
- [ ] schema.prismaæ›´æ–°
  - BoardDecision ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
  - BoardDecisionMilestone ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
  - BoardDecisionFacilityImplementation ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
  - BoardMeeting ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

**Day 2**:
- [ ] åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆï¼ˆ5ä»¶ã®æ±ºå®šäº‹é …ã€å„4ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼‰

---

### Phase 2: ã‚µãƒ¼ãƒ“ã‚¹å±¤å®Ÿè£…ï¼ˆ3æ—¥é–“ï¼‰

**Day 3-4**:
- [ ] BoardDecisionFollowService å®Ÿè£…
  - getDecisions()
  - getStatusSummary()
  - updateMilestone()
  - recalculateDecisionProgress()
  - getFacilityImplementations()
  - updateFacilityImplementation()
  - recalculateOverallProgress()
  - createDecision()

**Day 5**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆ

---

### Phase 3: APIå®Ÿè£…ï¼ˆ2æ—¥é–“ï¼‰

**Day 6**:
- [ ] GET /api/board-decisions å®Ÿè£…
- [ ] GET /api/board-decisions/:id/facility-implementations å®Ÿè£…
- [ ] PUT /api/board-decisions/:id/milestones/:milestoneId å®Ÿè£…

**Day 7**:
- [ ] PUT /api/board-decisions/:id/facility-implementations/:facilityId å®Ÿè£…
- [ ] POST /api/board-decisions å®Ÿè£…
- [ ] APIãƒ†ã‚¹ãƒˆ

---

### Phase 4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆï¼ˆ2æ—¥é–“ï¼‰

**Day 8**:
- [ ] BoardDecisionFollowPage.tsx ä¿®æ­£
  - ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’APIå‘¼ã³å‡ºã—ã«å¤‰æ›´
  - useBoardDecisions() ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆ
  - useFacilityImplementations() ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ä½œæˆ

**Day 9**:
- [ ] ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æ›´æ–°UIå®Ÿè£…
- [ ] æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³æ›´æ–°UIå®Ÿè£…
- [ ] E2Eãƒ†ã‚¹ãƒˆ

---

### Phase 5: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ1æ—¥é–“ï¼‰

**Day 10**:
- [ ] åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ APIé€£æºãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

---

**åˆè¨ˆ**: 10æ—¥é–“ï¼ˆ2é€±é–“ï¼‰

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- [ ] BoardDecision ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
- [ ] BoardDecisionMilestone ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
- [ ] BoardDecisionFacilityImplementation ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
- [ ] BoardMeeting ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
- [ ] ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®š
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

### ã‚µãƒ¼ãƒ“ã‚¹å±¤
- [ ] BoardDecisionFollowService å®Ÿè£…
- [ ] é€²æ—è‡ªå‹•è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- [ ] ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‡ªå‹•åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- [ ] æ–½è¨­ãƒã‚¹ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

### API
- [ ] GET /api/board-decisions å®Ÿè£…
- [ ] GET /api/board-decisions/:id/facility-implementations å®Ÿè£…
- [ ] PUT /api/board-decisions/:id/milestones/:milestoneId å®Ÿè£…
- [ ] PUT /api/board-decisions/:id/facility-implementations/:facilityId å®Ÿè£…
- [ ] POST /api/board-decisions å®Ÿè£…

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- [ ] APIçµ±åˆ
- [ ] ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æ›´æ–°UI
- [ ] æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³æ›´æ–°UI
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] E2Eãƒ†ã‚¹ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

---

## ğŸ“ è£œè¶³äº‹é …

### é€²æ—è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

**ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãƒ™ãƒ¼ã‚¹ã®é€²æ—**:
```typescript
progress = (å®Œäº†ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æ•° / å…¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³æ•°) Ã— 100
```

**æ–½è¨­åˆ¥å®Ÿæ–½çŠ¶æ³ãƒ™ãƒ¼ã‚¹ã®é€²æ—**:
```typescript
progress = (å…¨æ–½è¨­ã®é€²æ—åˆè¨ˆ / æ–½è¨­æ•°) = å¹³å‡é€²æ—ç‡
```

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‡ªå‹•åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

```typescript
if (progress === 100) {
  status = 'completed';
} else if (é…å»¶ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚ã‚Š) {
  status = 'delayed';
} else if (æœŸé™7æ—¥ä»¥å†…ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚ã‚Š) {
  status = 'at_risk';
} else {
  status = 'on_track';
}
```

### ç›¸å¯¾æ™‚é–“è¡¨ç¤º

`lastUpdate` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ç›¸å¯¾æ™‚é–“ã§è¡¨ç¤º:
- "2æ—¥å‰"
- "1é€±é–“å‰"
- "1ãƒ¶æœˆå‰"

å®Ÿè£…:
```typescript
function formatRelativeTime(date: Date): string {
  const now = new Date();
  const diffMs = now.getTime() - date.getTime();
  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

  if (diffDays === 0) return 'ä»Šæ—¥';
  if (diffDays === 1) return 'æ˜¨æ—¥';
  if (diffDays < 7) return `${diffDays}æ—¥å‰`;
  if (diffDays < 30) return `${Math.floor(diffDays / 7)}é€±é–“å‰`;
  return `${Math.floor(diffDays / 30)}ãƒ¶æœˆå‰`;
}
```

---

**æ–‡æ›¸çµ‚äº†**

æœ€çµ‚æ›´æ–°: 2025å¹´10æœˆ11æ—¥
æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—: æš«å®šãƒã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆä½œæˆ
