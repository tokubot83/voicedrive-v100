# Project Portfolio Management è¿½åŠ è¦æœ›ã¸ã®å›ç­”æ›¸

**æ–‡æ›¸ç•ªå·**: MEDICAL-RESPONSE-2025-1013-002
**ä½œæˆæ—¥**: 2025å¹´10æœˆ13æ—¥
**é€ä»˜å…ˆ**: VoiceDrive é–‹ç™ºãƒãƒ¼ãƒ 
**é€ä»˜å…ƒ**: åŒ»ç™‚è·å“¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  é–‹ç™ºãƒãƒ¼ãƒ 
**ä»¶å**: Project Portfolio Managementæ©Ÿèƒ½ è¿½åŠ è¦æœ›5ä»¶ã¸ã®å›ç­”

---

## ğŸ“‹ ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

VoiceDriveãƒãƒ¼ãƒ ã‹ã‚‰ã®ã€ŒProject Portfolio Managementæ©Ÿèƒ½ã®DBé€£æºç¢ºèªä¾é ¼ã¸ã®å›ç­”ï¼ˆæ–‡æ›¸ç•ªå·: VOICEDRIVE-RESPONSE-2025-1013-001ï¼‰ã€ã‚’å—é ˜ã—ã¾ã—ãŸã€‚5ã¤ã®è¿½åŠ è¦æœ›ã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®é€šã‚Šå›ç­”ã„ãŸã—ã¾ã™ã€‚

### âœ… å›ç­”ã‚µãƒãƒªãƒ¼

| è¿½åŠ è¦æœ› | å„ªå…ˆåº¦ | çµè«– | å®Ÿè£…æ™‚æœŸ |
|---------|-------|------|---------|
| **è¦æœ›-1: hireDate/experienceYears** | ğŸ”´ é«˜ | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1ï¼ˆ12æœˆ16-19æ—¥ï¼‰ |
| **è¦æœ›-2: employmentType** | ğŸ”´ é«˜ | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1ï¼ˆ12æœˆ16-19æ—¥ï¼‰ |
| **è¦æœ›-3: teamIds/teams** | ğŸŸ¡ ä¸­ | âš ï¸ Phase 16ä»¥é™ | 2026å¹´1æœˆä»¥é™ |
| **è¦æœ›-4: nursing_assistant** | ğŸŸ¡ ä¸­ | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1ï¼ˆ12æœˆ16-19æ—¥ï¼‰ |
| **è¦æœ›-5: æŠ•ç¥¨æ™‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—** | ğŸ”´ é«˜ | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1ï¼ˆ12æœˆ16-19æ—¥ï¼‰ |

### ğŸ¯ çµè«–

**5ã¤ã®è¿½åŠ è¦æœ›ã®ã†ã¡ã€4ã¤ã‚’Phase 15.1ã§å®Ÿè£…ã—ã¾ã™ã€‚**

- âœ… **å³æ™‚å®Ÿè£…å¯èƒ½ï¼ˆPhase 15.1ï¼‰**: è¦æœ›1, 2, 4, 5
- âš ï¸ **æ®µéšçš„å®Ÿè£…ï¼ˆPhase 16ä»¥é™ï¼‰**: è¦æœ›3ï¼ˆãƒãƒ¼ãƒ ãƒ»å§”å“¡ä¼šç®¡ç†ï¼‰

---

## ğŸ” å„è¦æœ›ã¸ã®è©³ç´°å›ç­”

### è¦æœ›-1: `hireDate`ï¼ˆå…¥ç¤¾æ—¥ï¼‰/ `experienceYears`ï¼ˆçµŒé¨“å¹´æ•°ï¼‰

#### âœ… å®Ÿè£…å¯èƒ½

**ç¾çŠ¶**: æ—¢ã«DBã«`hireDate`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ã¾ã™ã€‚

```prisma
model Employee {
  id         String   @id @default(cuid())
  hireDate   DateTime  // âœ… æ—¢ã«å­˜åœ¨
  // ...
}
```

**å®Ÿè£…å†…å®¹**:

1. **`hireDate`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æä¾›**
   - æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãŸã‚ã€è¿½åŠ å®Ÿè£…ä¸è¦
   - API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã‚ã‚‹ã®ã¿

2. **`experienceYears`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¨ˆç®—**
   - ã‚µãƒ¼ãƒãƒ¼å´ã§è¨ˆç®—ã—ã¦è¿”å´
   - è¨ˆç®—å¼: `(ç¾åœ¨æ—¥æ™‚ - hireDate) / 365æ—¥`
   - å°æ•°ç‚¹ç¬¬1ä½ã¾ã§è¿”å´ï¼ˆä¾‹: 4.5å¹´ï¼‰

**APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "data": {
    "employee": {
      "employeeId": "EMP12345",
      "hireDate": "2021-04-01",
      "experienceYears": 4.5,
      // ...æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    }
  }
}
```

**å®Ÿè£…æ™‚æœŸ**: Phase 15.1ï¼ˆ2025å¹´12æœˆ16-19æ—¥ï¼‰

**è¿½åŠ ä½œæ¥­æ™‚é–“**: 1æ™‚é–“ï¼ˆAPI ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿½åŠ ã®ã¿ï¼‰

---

### è¦æœ›-2: `employmentType`ï¼ˆé›‡ç”¨å½¢æ…‹ï¼‰

#### âœ… å®Ÿè£…å¯èƒ½

**ç¾çŠ¶**: DBã«`employmentType`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ã¾ã›ã‚“ãŒã€è¿½åŠ å¯èƒ½ã§ã™ã€‚

**å®Ÿè£…å†…å®¹**:

1. **DBè¨­è¨ˆå¤‰æ›´**
   ```prisma
   model Employee {
     id             String   @id @default(cuid())
     hireDate       DateTime
     employmentType String   @default("full_time") @map("employment_type")
     // full_time, contract, part_time, temporary, other
     // ...
   }
   ```

2. **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ**
   ```bash
   npx prisma migrate dev --name add_employment_type
   ```

3. **æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®åˆæœŸå€¤è¨­å®š**
   - æ—¢å­˜è·å“¡ã¯å…¨ã¦`full_time`ï¼ˆæ­£è·å“¡ï¼‰ã¨ã—ã¦è¨­å®š
   - å¾Œæ—¥ã€äººäº‹æ‹…å½“è€…ãŒæ­£ã—ã„é›‡ç”¨å½¢æ…‹ã«æ›´æ–°

**æƒ³å®šã•ã‚Œã‚‹å€¤**:
```typescript
type EmploymentType =
  | 'full_time'      // æ­£è·å“¡
  | 'contract'       // å¥‘ç´„è·å“¡
  | 'part_time'      // ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ
  | 'temporary'      // æ´¾é£ãƒ»è‡¨æ™‚è·å“¡
  | 'other';         // ãã®ä»–
```

**APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "data": {
    "employee": {
      "employeeId": "EMP12345",
      "employmentType": "full_time",
      // ...æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    }
  }
}
```

**å®Ÿè£…æ™‚æœŸ**: Phase 15.1ï¼ˆ2025å¹´12æœˆ16-19æ—¥ï¼‰

**è¿½åŠ ä½œæ¥­æ™‚é–“**: 3æ™‚é–“
- DBè¨­è¨ˆå¤‰æ›´: 1æ™‚é–“
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: 1æ™‚é–“
- APIå®Ÿè£…: 1æ™‚é–“

---

### è¦æœ›-3: `teamIds`/`teams`ï¼ˆæ‰€å±ãƒãƒ¼ãƒ ãƒ»å§”å“¡ä¼šIDé…åˆ—ï¼‰

#### âš ï¸ Phase 16ä»¥é™ã§å®Ÿè£…ï¼ˆæ®µéšçš„å¯¾å¿œï¼‰

**ç¾çŠ¶**: DBã«æ¨ªæ–­çµ„ç¹”ï¼ˆãƒãƒ¼ãƒ ãƒ»å§”å“¡ä¼šï¼‰ã®ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚

**å®Ÿè£…ãŒå¿…è¦ãªå†…å®¹**:

1. **æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ**
   ```prisma
   // æ¨ªæ–­çµ„ç¹”ãƒã‚¹ã‚¿ãƒ¼
   model CrossFunctionalTeam {
     id           String   @id @default(cuid())
     teamCode     String   @unique
     teamName     String
     teamType     String   // committee, project_team, task_force
     facilityId   String?  // æ–½è¨­å›ºæœ‰ or æ³•äººå…¨ä½“
     isActive     Boolean  @default(true)
     createdAt    DateTime @default(now())
     updatedAt    DateTime @updatedAt

     members      TeamMember[]
   }

   // ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ï¼ˆä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
   model TeamMember {
     id           String   @id @default(cuid())
     teamId       String
     employeeId   String
     role         String   // member, leader, advisor
     startDate    DateTime
     endDate      DateTime?
     createdAt    DateTime @default(now())
     updatedAt    DateTime @updatedAt

     team         CrossFunctionalTeam @relation(fields: [teamId], references: [id])
     employee     Employee @relation(fields: [employeeId], references: [id])

     @@unique([teamId, employeeId])
   }
   ```

2. **æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®ç§»è¡Œ**
   - ç¾åœ¨ã€æ¨ªæ–­çµ„ç¹”ã®ãƒ‡ãƒ¼ã‚¿ã¯åˆ¥ã‚·ã‚¹ãƒ†ãƒ ã¾ãŸã¯ç´™ãƒ™ãƒ¼ã‚¹ã§ç®¡ç†
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ç§»è¡Œä½œæ¥­ãŒå¿…è¦

3. **APIå®Ÿè£…**
   ```json
   {
     "data": {
       "employee": {
         "employeeId": "EMP12345",
         "teamIds": [
           "infection-control-team",
           "patient-safety-committee"
         ],
         "teams": [
           {
             "teamId": "infection-control-team",
             "teamName": "æ„ŸæŸ“å¯¾ç­–ãƒãƒ¼ãƒ ",
             "role": "member"
           },
           {
             "teamId": "patient-safety-committee",
             "teamName": "åŒ»ç™‚å®‰å…¨å§”å“¡ä¼š",
             "role": "leader"
           }
         ]
       }
     }
   }
   ```

**å®Ÿè£…ãŒå›°é›£ãªç†ç”±**:

1. **ãƒ‡ãƒ¼ã‚¿æ•´å‚™ãŒå¿…è¦**
   - ç¾åœ¨ã€æ¨ªæ–­çµ„ç¹”ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒä¸€å…ƒç®¡ç†ã•ã‚Œã¦ã„ãªã„
   - å„æ–½è¨­ã”ã¨ã«å§”å“¡ä¼šãƒ»ãƒãƒ¼ãƒ ã®åç§°ãƒ»æ§‹æˆãŒç•°ãªã‚‹
   - ãƒ‡ãƒ¼ã‚¿æ•´å‚™ã«1-2ãƒ¶æœˆã‹ã‹ã‚‹è¦‹è¾¼ã¿

2. **Phase 15.1ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’è¶…ãˆã‚‹**
   - Phase 15.1ã¯ã€Œè·å“¡ã‚«ãƒ«ãƒ†å€‹äººãƒšãƒ¼ã‚¸ã®æ—¢å­˜æƒ…å ±ã‚’APIåŒ–ã€
   - æ¨ªæ–­çµ„ç¹”ç®¡ç†ã¯æ–°è¦æ©Ÿèƒ½ã®ãŸã‚ã€åˆ¥Phaseã§ã®å®Ÿè£…ãŒé©åˆ‡

**ä»£æ›¿æ¡ˆï¼ˆPhase 15.1ã€œ15.4ã§é‹ç”¨ï¼‰**:

VoiceDriveãƒãƒ¼ãƒ ã‹ã‚‰ææ¡ˆã„ãŸã ã„ãŸé€šã‚Šã€ä»¥ä¸‹ã®æ–¹æ³•ã§å¯¾å¿œã—ã¾ã™ï¼š

**Option A: VoiceDriveå´ã§ç‹¬è‡ªç®¡ç†ï¼ˆæ¨å¥¨ï¼‰**
- VoiceDriveå´ã§ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒ ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç®¡ç†
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã®æ­£å¼ãªæ¨ªæ–­çµ„ç¹”ã¨ã¯åˆ¥ç®¡ç†
- Phase 16ã§åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®å®Ÿè£…ãŒå®Œäº†ã—ãŸã‚‰é€£æº

**Option B: Phase 2ã§è¿½åŠ å®Ÿè£…**
- Phase 1ã§ã¯éƒ¨ç½²æƒ…å ±ã®ã¿ã§é‹ç”¨
- 2026å¹´1æœˆä»¥é™ï¼ˆPhase 16ï¼‰ã§è¿½åŠ å®Ÿè£…

**å®Ÿè£…æ™‚æœŸ**: Phase 16ï¼ˆ2026å¹´1æœˆä»¥é™ï¼‰

**è¿½åŠ ä½œæ¥­æ™‚é–“**: 40-60æ™‚é–“ï¼ˆ3-5æ—¥é–“ï¼‰
- DBè¨­è¨ˆ: 8æ™‚é–“
- ãƒ‡ãƒ¼ã‚¿æ•´å‚™: 16-24æ™‚é–“
- APIå®Ÿè£…: 8æ™‚é–“
- ãƒ†ã‚¹ãƒˆ: 8-16æ™‚é–“

---

### è¦æœ›-4: `nursing_assistant`ï¼ˆçœ‹è­·è£œåŠ©è€…ï¼‰è·ç¨®ã‚«ãƒ†ã‚´ãƒªãƒ¼è¿½åŠ 

#### âœ… å®Ÿè£…å¯èƒ½

**ç¾çŠ¶**: è·ç¨®ã‚«ãƒ†ã‚´ãƒªãƒ¼22ç¨®é¡ã«çœ‹è­·è£œåŠ©è€…ãŒå«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

**å®Ÿè£…å†…å®¹**:

1. **è·ç¨®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’23ç¨®é¡ã«æ‹¡å¼µ**

**åŒ»ç™‚è·14ç¨®é¡**ï¼ˆ1ç¨®é¡è¿½åŠ ï¼‰:
- nurseï¼ˆçœ‹è­·å¸«ï¼‰
- assistant_nurseï¼ˆå‡†çœ‹è­·å¸«ï¼‰
- **nursing_assistantï¼ˆçœ‹è­·è£œåŠ©è€…ï¼‰** â­ è¿½åŠ 
- doctorï¼ˆåŒ»å¸«ï¼‰
- ptï¼ˆç†å­¦ç™‚æ³•å£«ï¼‰
- otï¼ˆä½œæ¥­ç™‚æ³•å£«ï¼‰
- stï¼ˆè¨€èªè´è¦šå£«ï¼‰
- pharmacistï¼ˆè–¬å‰¤å¸«ï¼‰
- nutritionistï¼ˆç®¡ç†æ „é¤Šå£«ï¼‰
- radiologistï¼ˆè¨ºç™‚æ”¾å°„ç·šæŠ€å¸«ï¼‰
- clinical_engineerï¼ˆè‡¨åºŠå·¥å­¦æŠ€å£«ï¼‰
- care_workerï¼ˆä»‹è­·ç¦ç¥‰å£«ï¼‰
- care_managerï¼ˆã‚±ã‚¢ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰
- social_workerï¼ˆåŒ»ç™‚ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¯ãƒ¼ã‚«ãƒ¼ï¼‰

**äº‹å‹™è·ãƒ»ãã®ä»–9ç¨®é¡**ï¼ˆå¤‰æ›´ãªã—ï¼‰:
- adminï¼ˆäº‹å‹™è·ï¼‰
- medical_clerkï¼ˆåŒ»ç™‚äº‹å‹™ï¼‰
- it_staffï¼ˆæƒ…å ±ã‚·ã‚¹ãƒ†ãƒ ï¼‰
- facility_staffï¼ˆæ–½è¨­ç®¡ç†ï¼‰
- cooking_staffï¼ˆèª¿ç†å¸«ï¼‰
- driverï¼ˆé‹è»¢æ‰‹ï¼‰
- securityï¼ˆè­¦å‚™å“¡ï¼‰
- cleaning_staffï¼ˆæ¸…æƒå“¡ï¼‰
- otherï¼ˆãã®ä»–ï¼‰

**çœ‹è­·è·ã®3åˆ†é¡**:
```typescript
type NursingProfession =
  | 'nurse'              // æ­£çœ‹è­·å¸«ï¼ˆå›½å®¶è³‡æ ¼ï¼‰
  | 'assistant_nurse'    // å‡†çœ‹è­·å¸«ï¼ˆéƒ½é“åºœçœŒçŸ¥äº‹å…è¨±ï¼‰
  | 'nursing_assistant'; // çœ‹è­·è£œåŠ©è€…ï¼ˆç„¡è³‡æ ¼ or ä»‹è­·ç¦ç¥‰å£«ï¼‰
```

**DBå®Ÿè£…**:
```prisma
model Employee {
  id                 String   @id @default(cuid())
  professionCategory String?  @map("profession_category")
  // å€¤: nurse, assistant_nurse, nursing_assistant, doctor, pt, ot, ... (23ç¨®é¡)
  // ...
}
```

**APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "data": {
    "employee": {
      "employeeId": "EMP12345",
      "profession": "çœ‹è­·è£œåŠ©è€…",
      "professionCategory": "nursing_assistant",
      // ...æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    }
  }
}
```

**å®Ÿè£…æ™‚æœŸ**: Phase 15.1ï¼ˆ2025å¹´12æœˆ16-19æ—¥ï¼‰

**è¿½åŠ ä½œæ¥­æ™‚é–“**: 1æ™‚é–“ï¼ˆã‚«ãƒ†ã‚´ãƒªãƒ¼è¿½åŠ ã®ã¿ï¼‰

---

### è¦æœ›-5: æŠ•ç¥¨æ™‚ã®æ¨©é™ç¢ºèªï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—ï¼‰

#### âœ… å®Ÿè£…å¯èƒ½

**ç¾çŠ¶**: æ—¥æ¬¡ãƒãƒƒãƒ + Redis 24æ™‚é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æƒ³å®šã§ã—ãŸãŒã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—ã«ã‚‚å¯¾å¿œå¯èƒ½ã§ã™ã€‚

**å®Ÿè£…å†…å®¹**:

1. **APIã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ¶å¾¡**
   ```typescript
   GET /api/v2/employees/{employeeId}?skipCache=true
   ```

2. **VoiceDriveå´ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸**
   ```typescript
   // æŠ•ç¥¨å®Ÿè¡Œæ™‚ã®ã¿ã€æœ€æ–°æƒ…å ±ã‚’å–å¾—
   async function executeVote(userId: string, proposalId: string) {
     // skipCache=true ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—
     const employee = await fetchEmployeeInfo(userId, { skipCache: true });

     // æ¨©é™ãƒ¬ãƒ™ãƒ«ã‚’ç¢ºèª
     if (employee.permissionLevel < proposal.requiredLevel) {
       throw new Error('æ¨©é™ä¸è¶³ã®ãŸã‚æŠ•ç¥¨ã§ãã¾ã›ã‚“');
     }

     // æŠ•ç¥¨ã‚’è¨˜éŒ²
     await saveVote({ userId, proposalId, permissionLevel: employee.permissionLevel });
   }
   ```

3. **APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ç¢ºèª**

**æƒ³å®šã‚¢ã‚¯ã‚»ã‚¹é »åº¦**:
- é€šå¸¸æ™‚: 100-500ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ â‰’ 4-20ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚
- ãƒ”ãƒ¼ã‚¯æ™‚ï¼ˆé‡è¦æŠ•ç¥¨ã®ç· åˆ‡æ—¥ï¼‰: 1,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ â‰’ 40ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚

**VoiceDriveå°‚ç”¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™**:
- 5,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚

**çµè«–**: ãƒ”ãƒ¼ã‚¯æ™‚ã§ã‚‚40ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ™‚ãªã®ã§ã€ååˆ†å¯¾å¿œå¯èƒ½

**å®Ÿè£…æ™‚æœŸ**: Phase 15.1ï¼ˆ2025å¹´12æœˆ16-19æ—¥ï¼‰

**è¿½åŠ ä½œæ¥­æ™‚é–“**: 2æ™‚é–“
- ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¿½åŠ : 1æ™‚é–“
- ãƒ†ã‚¹ãƒˆ: 1æ™‚é–“

---

## ğŸ“Š å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ›´æ–°

### Phase 15.1: åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ APIå®Ÿè£…ï¼ˆ2025å¹´12æœˆ16-19æ—¥ã€4æ—¥é–“ï¼‰

#### å®Ÿè£…å†…å®¹ã®è¿½åŠ 

**æ—¢å­˜ã®å®Ÿè£…å†…å®¹**:
1. âœ… DBè¨­è¨ˆå¤‰æ›´ï¼ˆ`professionCategory`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ï¼‰
2. âœ… Prismaãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
3. âœ… GET /api/v2/employees/{employeeId} APIå®Ÿè£…
4. âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®šï¼ˆVoiceDriveå°‚ç”¨5,000 req/hï¼‰

**è¿½åŠ å®Ÿè£…å†…å®¹**ï¼ˆä»Šå›ã®è¿½åŠ è¦æœ›å¯¾å¿œï¼‰:
5. â­ **`hireDate`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ **ï¼ˆæ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã‚ã‚‹ã®ã¿ï¼‰
6. â­ **`experienceYears`ã®è¨ˆç®—ãƒ»è¿”å´**
7. â­ **`employmentType`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ **ï¼ˆDBè¨­è¨ˆå¤‰æ›´ + ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
8. â­ **`nursing_assistant`è·ç¨®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®è¿½åŠ **ï¼ˆ23ç¨®é¡ã«æ‹¡å¼µï¼‰
9. â­ **`skipCache`ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å®Ÿè£…**ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—å¯¾å¿œï¼‰

#### ä½œæ¥­æ™‚é–“ã®è¦‹ç©ã‚‚ã‚Š

| ä½œæ¥­é …ç›® | å½“åˆè¦‹ç© | è¿½åŠ ä½œæ¥­ | åˆè¨ˆ |
|---------|---------|---------|------|
| DBè¨­è¨ˆå¤‰æ›´ | 4æ™‚é–“ | 3æ™‚é–“ | 7æ™‚é–“ |
| Prismaãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | 2æ™‚é–“ | 1æ™‚é–“ | 3æ™‚é–“ |
| APIå®Ÿè£… | 8æ™‚é–“ | 3æ™‚é–“ | 11æ™‚é–“ |
| ãƒ†ã‚¹ãƒˆ | 8æ™‚é–“ | 1æ™‚é–“ | 9æ™‚é–“ |
| **åˆè¨ˆ** | **22æ™‚é–“** | **8æ™‚é–“** | **30æ™‚é–“** |

**çµè«–**: 4æ—¥é–“ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§å®Ÿè£…å¯èƒ½ï¼ˆ1æ—¥7.5æ™‚é–“ Ã— 4æ—¥ = 30æ™‚é–“ï¼‰

---

### æ›´æ–°å¾Œã®APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ä»•æ§˜

```typescript
// GET /api/v2/employees/{employeeId}
// ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: ?skipCache=true (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

{
  "data": {
    "employee": {
      // åŸºæœ¬æƒ…å ±
      "employeeId": "EMP12345",
      "employeeCode": "OH-NS-2021-001",
      "name": "å±±ç”°å¤ªéƒ",
      "nameKana": "ã‚„ã¾ã ãŸã‚ã†",
      "email": "yamada@obara-hospital.jp",

      // çµ„ç¹”éšå±¤æƒ…å ±
      "facility": "å°åŸç—…é™¢",
      "facilityId": "obara-hospital",
      "department": "çœ‹è­·éƒ¨",
      "departmentId": "dept-001",
      "unit": "3éšç—…æ£Ÿ",
      "unitId": "unit-301",

      // è·ç¨®ãƒ»å½¹è·æƒ…å ±
      "profession": "çœ‹è­·å¸«",
      "professionCategory": "nurse",  // 23ç¨®é¡ã«æ‹¡å¼µ
      "position": "ä¸»ä»»",
      "positionId": "pos-001",
      "permissionLevel": 7,
      "status": "active",

      // â­ è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆè¦æœ›-1ï¼‰
      "hireDate": "2021-04-01",
      "experienceYears": 4.5,

      // â­ è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆè¦æœ›-2ï¼‰
      "employmentType": "full_time"  // full_time, contract, part_time, temporary, other
    }
  },
  "meta": {
    "timestamp": "2025-12-20T10:30:00+09:00",
    "cached": false  // skipCache=true ã®å ´åˆã¯ false
  }
}
```

---

## ğŸ“… ãƒ‡ãƒ¼ã‚¿é‚„æµæ–¹å¼ã®ç¢ºèª

### å„ªå…ˆé †ä½ã®æ‰¿èª

VoiceDriveãƒãƒ¼ãƒ ã‹ã‚‰ææ¡ˆã„ãŸã ã„ãŸå„ªå…ˆé †ä½ã«ã¤ã„ã¦ã€**æ‰¿èª**ã„ãŸã—ã¾ã™ã€‚

**å®Ÿè£…é †åº**:
1. âœ… **Option B: æ—¥æ¬¡ãƒãƒƒãƒï¼ˆå®šæœŸé€šçŸ¥ï¼‰** - Phase 15.3ï¼ˆ2025å¹´12æœˆ28æ—¥ã€œ2026å¹´1æœˆ3æ—¥ï¼‰
2. âœ… **Option A: Webhooké€šçŸ¥ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰** - Phase 15.4ï¼ˆ2026å¹´1æœˆä¸Šæ—¬ï¼‰
3. âœ… **Option C: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹é€£æº** - Phase 15.5ä»¥é™ï¼ˆ2026å¹´2æœˆä»¥é™ã€å¿…è¦ã«å¿œã˜ã¦ï¼‰

### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®å—ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

**æ—¥æ¬¡ãƒãƒƒãƒãƒ¬ãƒãƒ¼ãƒˆå—ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
```
POST https://medical-system.example.com/api/v2/voicedrive/reports
```

**Webhookå—ä¿¡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
```
POST https://medical-system.example.com/api/v2/webhooks/voicedrive
```

**èªè¨¼æ–¹å¼**:
- JWT Bearer Tokenï¼ˆåŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ç™ºè¡Œï¼‰
- APIãƒˆãƒ¼ã‚¯ãƒ³ã¯2025å¹´12æœˆ15æ—¥ã¾ã§ã«ç™ºè¡Œã—ã¾ã™

---

## ğŸ¤ çµ±åˆãƒ†ã‚¹ãƒˆã®æº–å‚™

### ãƒ†ã‚¹ãƒˆæœŸé–“: 2025å¹´12æœˆ19æ—¥ã€œ20æ—¥

#### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ å´ã®æº–å‚™å†…å®¹

**12æœˆ19æ—¥ï¼ˆæœ¨ï¼‰**:
1. âœ… é–‹ç™ºç’°å¢ƒAPIã®ç¨¼åƒç¢ºèª
2. âœ… APIãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œï¼ˆVoiceDriveãƒãƒ¼ãƒ ç”¨ï¼‰
3. âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ï¼ˆè·å“¡æƒ…å ±20ä»¶ï¼‰
   - æ­£è·å“¡: 10ä»¶
   - å¥‘ç´„è·å“¡: 5ä»¶
   - ãƒ‘ãƒ¼ãƒˆ: 3ä»¶
   - æ´¾é£: 2ä»¶
4. âœ… è·ç¨®ã‚«ãƒ†ã‚´ãƒªãƒ¼23ç¨®é¡ã®ç¢ºèª
   - çœ‹è­·å¸«: 5ä»¶
   - å‡†çœ‹è­·å¸«: 2ä»¶
   - **çœ‹è­·è£œåŠ©è€…: 3ä»¶** â­è¿½åŠ 
   - åŒ»å¸«: 2ä»¶
   - PT: 2ä»¶
   - ãã®ä»–: 6ä»¶

**12æœˆ20æ—¥ï¼ˆé‡‘ï¼‰**:
1. âœ… E2Eãƒ†ã‚¹ãƒˆã¸ã®å”åŠ›
2. âœ… APIã®å®‰å®šç¨¼åƒ
3. âœ… å•é¡Œç™ºç”Ÿæ™‚ã®è¿…é€Ÿãªå¯¾å¿œ

---

## ğŸ“Œ è¦æœ›-3ï¼ˆæ¨ªæ–­çµ„ç¹”ç®¡ç†ï¼‰ã®ä»Šå¾Œã®æ–¹é‡

### Phase 16ã§ã®å®Ÿè£…è¨ˆç”»ï¼ˆ2026å¹´1æœˆä»¥é™ï¼‰

#### å®Ÿè£…æ™‚æœŸ: 2026å¹´1æœˆ6æ—¥ã€œ20æ—¥ï¼ˆ15æ—¥é–“ï¼‰

**Phase 16.1: æ¨ªæ–­çµ„ç¹”ãƒã‚¹ã‚¿ãƒ¼æ•´å‚™**ï¼ˆ5æ—¥é–“ï¼‰
- å„æ–½è¨­ã®å§”å“¡ä¼šãƒ»ãƒãƒ¼ãƒ ä¸€è¦§ã®ãƒ‡ãƒ¼ã‚¿æ•´å‚™
- CrossFunctionalTeamãƒ†ãƒ¼ãƒ–ãƒ«ã®è¨­è¨ˆãƒ»å®Ÿè£…
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²

**Phase 16.2: ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†å®Ÿè£…**ï¼ˆ5æ—¥é–“ï¼‰
- TeamMemberãƒ†ãƒ¼ãƒ–ãƒ«ã®è¨­è¨ˆãƒ»å®Ÿè£…
- è·å“¡ã‚«ãƒ«ãƒ†å€‹äººãƒšãƒ¼ã‚¸ã¸ã®ã€Œæ‰€å±ãƒãƒ¼ãƒ ã€è¡¨ç¤ºè¿½åŠ 
- ç®¡ç†ç”»é¢ã§ã®ç·¨é›†æ©Ÿèƒ½è¿½åŠ 

**Phase 16.3: APIå®Ÿè£…**ï¼ˆ3æ—¥é–“ï¼‰
- GET /api/v2/employees/{employeeId} ã«`teamIds`/`teams`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- VoiceDriveãƒãƒ¼ãƒ ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ

**Phase 16.4: VoiceDriveå´å¯¾å¿œ**ï¼ˆ2æ—¥é–“ï¼‰
- ProjectPortfolioManagementç”»é¢ã¸ã®æ¨ªæ–­çµ„ç¹”åˆ†ææ©Ÿèƒ½è¿½åŠ 
- éƒ¨ç½²æ¨ªæ–­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†æã®å®Ÿè£…

#### VoiceDriveãƒãƒ¼ãƒ ã¸ã®ãŠé¡˜ã„

2025å¹´11æœˆä¸­ã«ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’ã”æä¾›ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼š

1. **æ¨ªæ–­çµ„ç¹”ã®æƒ³å®šç¨®é¡**
   - ä¾‹: æ„ŸæŸ“å¯¾ç­–ãƒãƒ¼ãƒ ã€åŒ»ç™‚å®‰å…¨å§”å“¡ä¼šã€æ•™è‚²å§”å“¡ä¼šã€ç­‰
   - ã©ã®ç¨‹åº¦ã®ç²’åº¦ã§ç®¡ç†ã™ã¹ãã‹

2. **æ¨ªæ–­çµ„ç¹”ã®åˆ†æé …ç›®**
   - ã©ã®ã‚ˆã†ãªåˆ†æã‚’è¡Œã„ãŸã„ã‹
   - è¡¨ç¤ºã—ãŸã„ãƒ‡ãƒ¼ã‚¿ã®å…·ä½“ä¾‹

3. **UI/UXè¦ä»¶**
   - ProjectPortfolioManagementç”»é¢ã§ã©ã®ã‚ˆã†ã«è¡¨ç¤ºã™ã‚‹ã‹
   - ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ã‚½ãƒ¼ãƒˆæ¡ä»¶

ã“ã®æƒ…å ±ã‚’å…ƒã«ã€Phase 16ã®è©³ç´°è¨­è¨ˆã‚’è¡Œã„ã¾ã™ã€‚

---

## âœ… ã¾ã¨ã‚

### è¿½åŠ è¦æœ›5ä»¶ã¸ã®å›ç­”

| è¿½åŠ è¦æœ› | çµè«– | å®Ÿè£…æ™‚æœŸ | è¿½åŠ ä½œæ¥­æ™‚é–“ |
|---------|------|---------|------------|
| **è¦æœ›-1: hireDate/experienceYears** | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1 | 1æ™‚é–“ |
| **è¦æœ›-2: employmentType** | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1 | 3æ™‚é–“ |
| **è¦æœ›-3: teamIds/teams** | âš ï¸ Phase 16ä»¥é™ | 2026å¹´1æœˆ | 40-60æ™‚é–“ |
| **è¦æœ›-4: nursing_assistant** | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1 | 1æ™‚é–“ |
| **è¦æœ›-5: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—** | âœ… å®Ÿè£…å¯èƒ½ | Phase 15.1 | 2æ™‚é–“ |

### Phase 15.1ã®å®Ÿè£…å†…å®¹ï¼ˆæ›´æ–°ç‰ˆï¼‰

**å®Ÿè£…æœŸé–“**: 2025å¹´12æœˆ16-19æ—¥ï¼ˆ4æ—¥é–“ã€30æ™‚é–“ï¼‰

**å®Ÿè£…å†…å®¹**:
1. âœ… DBè¨­è¨ˆå¤‰æ›´ï¼ˆ`professionCategory`, `employmentType`è¿½åŠ ï¼‰
2. âœ… è·ç¨®ã‚«ãƒ†ã‚´ãƒªãƒ¼23ç¨®é¡å¯¾å¿œï¼ˆ`nursing_assistant`è¿½åŠ ï¼‰
3. âœ… GET /api/v2/employees/{employeeId} APIå®Ÿè£…
4. âœ… `hireDate`, `experienceYears`, `employmentType`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
5. âœ… `skipCache`ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—å¯¾å¿œï¼‰
6. âœ… ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®šï¼ˆVoiceDriveå°‚ç”¨5,000 req/hï¼‰
7. âœ… çµ±åˆãƒ†ã‚¹ãƒˆ

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

#### åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ãƒ ã®ä½œæ¥­

1. **Phase 15.1ã®å®Ÿè£…**ï¼ˆ2025å¹´12æœˆ16-19æ—¥ï¼‰
   - è¿½åŠ è¦æœ›1, 2, 4, 5ã®å®Ÿè£…
   - çµ±åˆãƒ†ã‚¹ãƒˆ

2. **çµ±åˆãƒ†ã‚¹ãƒˆã®å”åŠ›**ï¼ˆ2025å¹´12æœˆ19-20æ—¥ï¼‰
   - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æä¾›
   - APIã®å®‰å®šç¨¼åƒ

3. **Phase 16ã®æº–å‚™**ï¼ˆ2025å¹´11æœˆã€œ12æœˆï¼‰
   - æ¨ªæ–­çµ„ç¹”ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ•´å‚™
   - VoiceDriveãƒãƒ¼ãƒ ã¨ã®è¦ä»¶ç¢ºèª

#### VoiceDriveãƒãƒ¼ãƒ ã«ãŠé¡˜ã„ã—ãŸã„ã“ã¨

1. **Phase 15.2ã®å®Ÿè£…**ï¼ˆ2025å¹´12æœˆ20-27æ—¥ï¼‰
   - ProjectResourceSummaryå®Ÿè£…
   - æ›´æ–°å¾Œã®APIä»•æ§˜ã¸ã®å¯¾å¿œ

2. **çµ±åˆãƒ†ã‚¹ãƒˆ**ï¼ˆ2025å¹´12æœˆ19-20æ—¥ï¼‰
   - E2Eãƒ†ã‚¹ãƒˆã®å®Ÿæ–½

3. **Phase 16ã®è¦ä»¶æä¾›**ï¼ˆ2025å¹´11æœˆä¸­ï¼‰
   - æ¨ªæ–­çµ„ç¹”ç®¡ç†ã®è¦ä»¶å®šç¾©
   - UI/UXè¦ä»¶ã®å…±æœ‰

---

**å›ç­”ä½œæˆæ—¥**: 2025å¹´10æœˆ13æ—¥
**æ¬¡å›ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—**: Phase 15.1å®Ÿè£…é–‹å§‹ï¼ˆ2025å¹´12æœˆ16æ—¥ï¼‰

ã”ç¢ºèªã®ã»ã©ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚

---

**æ‰¿èª**:
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  æŠ€è¡“è²¬ä»»è€…: ï¼ˆæ‰¿èªå¾…ã¡ï¼‰
- åŒ»ç™‚ã‚·ã‚¹ãƒ†ãƒ  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼: ï¼ˆæ‰¿èªå¾…ã¡ï¼‰

---

**æ·»ä»˜è³‡æ–™**:
1. Phase 15.1 å®Ÿè£…è¨ˆç”»æ›¸ï¼ˆè©³ç´°ç‰ˆï¼‰
2. Phase 16 æ¨ªæ–­çµ„ç¹”ç®¡ç† è¦ä»¶å®šç¾©æ›¸ï¼ˆãƒ‰ãƒ©ãƒ•ãƒˆï¼‰

---

**æ–‡æ›¸çµ‚äº†**
